!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n||e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){exports.MP3Demuxer=require("./src/demuxer"),exports.MP3Decoder=require("./src/decoder")},{"./src/decoder":2,"./src/demuxer":3}],2:[function(require,module,exports){(function(global){var AV="undefined"!=typeof window?window.AV:void 0!==global?global.AV:null,MP3FrameHeader=require("./header"),MP3Stream=require("./stream"),MP3Frame=require("./frame"),MP3Synth=require("./synth"),MP3Decoder=(require("./layer1"),require("./layer2"),require("./layer3"),AV.Decoder.extend(function(){AV.Decoder.register("mp3",this),this.prototype.init=function(){this.mp3_stream=new MP3Stream(this.bitstream),this.frame=new MP3Frame,this.synth=new MP3Synth,this.seeking=!1},this.prototype.readChunk=function(){var stream=this.mp3_stream,frame=this.frame,synth=this.synth;if(this.seeking){for(;;)try{frame.decode(stream);break}catch(err){if(err instanceof AV.UnderflowError)throw err}this.seeking=!1}else frame.decode(stream);synth.frame(frame);for(var data=synth.pcm.samples,channels=synth.pcm.channels,len=synth.pcm.length,output=new Float32Array(len*channels),j=0,k=0;k<len;k++)for(var i=0;i<channels;i++)output[j++]=data[i][k];return output},this.prototype.seek=function(timestamp){var offset;offset=0<this.demuxer.seekPoints.length?(timestamp=this._super(timestamp),this.stream.offset):timestamp*this.format.bitrate/8/this.format.sampleRate,this.mp3_stream.reset(offset);for(var i=0;i<4096;i++){for(var pos=offset+i,j=0;j<3;j++){this.mp3_stream.reset(pos);try{var header=MP3FrameHeader.decode(this.mp3_stream)}catch(e){break}var size=header.framesize();if(null==size)break;pos+=size}if(3===j)break}return 3!==j&&(i=0),this.mp3_stream.reset(offset+i),0===this.demuxer.seekPoints.length&&(timestamp=this.stream.offset/(this.format.bitrate/8)*this.format.sampleRate),this.seeking=!0,timestamp}}));module.exports=MP3Decoder}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./frame":4,"./header":5,"./layer1":9,"./layer2":10,"./layer3":11,"./stream":12,"./synth":13}],3:[function(require,module,exports){(function(global){var AV="undefined"!=typeof window?window.AV:void 0!==global?global.AV:null,ID3v23Stream=require("./id3").ID3v23Stream,ID3v22Stream=require("./id3").ID3v22Stream,MP3FrameHeader=require("./header"),MP3Stream=require("./stream"),MP3Demuxer=AV.Demuxer.extend(function(){AV.Demuxer.register(this),this.probe=function(stream){var off=stream.offset,id3header=MP3Demuxer.getID3v2Header(stream);id3header&&stream.advance(10+id3header.length);var s=new MP3Stream(new AV.Bitstream(stream)),header=null;try{header=MP3FrameHeader.decode(s)}catch(e){}return stream.seek(off),!!header},this.getID3v2Header=function(stream){if("ID3"!=stream.peekString(0,3))return null;(stream=AV.Stream.fromBuffer(stream.peekBuffer(0,10))).advance(3);var major=stream.readUInt8(),minor=stream.readUInt8(),flags=stream.readUInt8(),bytes=stream.readBuffer(4).data;return{version:"2."+major+"."+minor,major:major,minor:minor,flags:flags,length:bytes[0]<<21|bytes[1]<<14|bytes[2]<<7|bytes[3]}};var XING_OFFSETS=[[32,17],[17,9]];this.prototype.parseDuration=function(header,off){var frames,stream=this.stream;if(this.metadata){var mllt=this.metadata.MPEGLocationLookupTable;if(mllt){for(var bitstream=new AV.Bitstream(AV.Stream.fromBuffer(mllt.data)),refSize=mllt.bitsForBytesDeviation+mllt.bitsForMillisecondsDev,samples=0,bytes=0;bitstream.available(refSize);){this.addSeekPoint(bytes,samples);var bytesDev=bitstream.read(mllt.bitsForBytesDeviation);bitstream.advance(mllt.bitsForMillisecondsDev),bytes+=mllt.bytesBetweenReference+bytesDev,samples+=mllt.framesBetweenReference*header.nbsamples()*32}this.addSeekPoint(bytes,samples)}if(this.metadata.length)return this.emit("duration",parseInt(this.metadata.length,10)),!0}stream.offset;if(!header||3!==header.layer)return!1;stream.advance(XING_OFFSETS[header.flags&MP3FrameHeader.FLAGS.LSF_EXT?1:0][1===header.nchannels()?1:0]);var tag=stream.readString(4);if("Xing"===tag||"Info"===tag){var flags=stream.readUInt32();if(1&flags&&(frames=stream.readUInt32()),2&flags)var size=stream.readUInt32();if(4&flags&&frames&&size&&0===this.seekPoints.length)for(var i=0;i<100;i++){var pos=stream.readUInt8()/256*size|0,time=i/100*(frames*header.nbsamples()*32)|0;this.addSeekPoint(pos,time)}8&flags&&stream.advance(4)}else if(stream.seek(off+4+32),"VBRI"==(tag=stream.readString(4))&&1===stream.readUInt16()&&(stream.advance(4),stream.advance(4),frames=stream.readUInt32(),0===this.seekPoints.length)){var entries=stream.readUInt16(),scale=stream.readUInt16(),bytesPerEntry=stream.readUInt16(),framesPerEntry=stream.readUInt16(),fn="readUInt"+8*bytesPerEntry;for(pos=0,i=0;i<entries;i++)this.addSeekPoint(pos,i*framesPerEntry*header.nbsamples()*32|0),pos+=stream[fn]()*scale}return!!frames&&(this.emit("duration",frames*header.nbsamples()*32/header.samplerate*1e3|0),!0)},this.prototype.readChunk=function(){var stream=this.stream;if(!this.sentInfo){var id3header=MP3Demuxer.getID3v2Header(stream);if(id3header&&!this.metadata){if(stream.advance(10),2<id3header.major)var id3=new ID3v23Stream(id3header,stream);else id3=new ID3v22Stream(id3header,stream);this.metadata=id3.read(),this.emit("metadata",this.metadata),stream.seek(10+id3header.length)}var off=stream.offset,s=new MP3Stream(new AV.Bitstream(stream)),header=MP3FrameHeader.decode(s);if(!header)return this.emit("error","Could not find first frame.");this.emit("format",{formatID:"mp3",sampleRate:header.samplerate,channelsPerFrame:header.nchannels(),bitrate:header.bitrate,floatingPoint:!0,layer:header.layer,flags:header.flags});var sentDuration=this.parseDuration(header,off);stream.advance(off-stream.offset),this.dataSize=0,sentDuration||this.on("end",function(){this.emit("duration",8*this.dataSize/header.bitrate*1e3|0)}),this.sentInfo=!0}for(;stream.available(1);){var buffer=stream.readSingleBuffer(stream.remainingBytes());this.dataSize+=buffer.length,this.emit("data",buffer)}}});module.exports=MP3Demuxer}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./header":5,"./id3":7,"./stream":12}],4:[function(require,module,exports){var MP3FrameHeader=require("./header"),utils=require("./utils");function MP3Frame(){this.header=null,this.options=0,this.sbsample=utils.makeArray([2,36,32]),this.overlap=utils.makeArray([2,32,18]),this.decoders=[]}MP3Frame.layers=[],MP3Frame.prototype.decode=function(stream){this.header&&this.header.flags&MP3FrameHeader.FLAGS.INCOMPLETE||(this.header=MP3FrameHeader.decode(stream)),this.header.flags&=~MP3FrameHeader.FLAGS.INCOMPLETE;var decoder=this.decoders[this.header.layer-1];if(!decoder){var Layer=MP3Frame.layers[this.header.layer];if(!Layer)throw new Error("Layer "+this.header.layer+" is not supported.");decoder=this.decoders[this.header.layer-1]=new Layer}decoder.decode(stream,this)},module.exports=MP3Frame},{"./header":5,"./utils":15}],5:[function(require,module,exports){(function(global){var AV="undefined"!=typeof window?window.AV:void 0!==global?global.AV:null;function MP3FrameHeader(){this.layer=0,this.mode=0,this.mode_extension=0,this.emphasis=0,this.bitrate=0,this.samplerate=0,this.crc_check=0,this.crc_target=0,this.flags=0,this.private_bits=0}var BITRATES=[[0,32e3,64e3,96e3,128e3,16e4,192e3,224e3,256e3,288e3,32e4,352e3,384e3,416e3,448e3],[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4,384e3],[0,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4],[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,144e3,16e4,176e3,192e3,224e3,256e3],[0,8e3,16e3,24e3,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,144e3,16e4]],SAMPLERATES=[44100,48e3,32e3];MP3FrameHeader.FLAGS={NPRIVATE_III:7,INCOMPLETE:8,PROTECTION:16,COPYRIGHT:32,ORIGINAL:64,PADDING:128,I_STEREO:256,MS_STEREO:512,FREEFORMAT:1024,LSF_EXT:4096,MC_EXT:8192,MPEG_2_5_EXT:16384};var PRIVATE_HEADER=256;MP3FrameHeader.MODE={SINGLE_CHANNEL:0,DUAL_CHANNEL:1,JOINT_STEREO:2,STEREO:3};MP3FrameHeader.BUFFER_MDLEN=2559+(MP3FrameHeader.BUFFER_GUARD=8),MP3FrameHeader.prototype.copy=function(){var clone=new MP3FrameHeader,keys=Object.keys(this);for(var key in keys)clone[key]=this[key];return clone},MP3FrameHeader.prototype.nchannels=function(){return 0===this.mode?1:2},MP3FrameHeader.prototype.nbsamples=function(){return 1===this.layer?12:3===this.layer&&this.flags&MP3FrameHeader.FLAGS.LSF_EXT?18:36},MP3FrameHeader.prototype.framesize=function(){if(0===this.bitrate)return null;var padding=this.flags&MP3FrameHeader.FLAGS.PADDING?1:0;switch(this.layer){case 1:return 4*((12*this.bitrate/this.samplerate|0)+padding);case 2:return(144*this.bitrate/this.samplerate|0)+padding;case 3:default:var lsf=this.flags&MP3FrameHeader.FLAGS.LSF_EXT?1:0;return(144*this.bitrate/(this.samplerate<<lsf)|0)+padding}},MP3FrameHeader.prototype.decode=function(stream){if(this.flags=0,this.private_bits=0,stream.advance(11),0===stream.read(1)&&(this.flags|=MP3FrameHeader.FLAGS.MPEG_2_5_EXT),0===stream.read(1))this.flags|=MP3FrameHeader.FLAGS.LSF_EXT;else if(this.flags&MP3FrameHeader.FLAGS.MPEG_2_5_EXT)throw new AV.UnderflowError;if(this.layer=4-stream.read(2),4===this.layer)throw new Error("Invalid layer");0===stream.read(1)&&(this.flags|=MP3FrameHeader.FLAGS.PROTECTION);var index=stream.read(4);if(15===index)throw new Error("Invalid bitrate");if(this.flags&MP3FrameHeader.FLAGS.LSF_EXT?this.bitrate=BITRATES[3+(this.layer>>1)][index]:this.bitrate=BITRATES[this.layer-1][index],3===(index=stream.read(2)))throw new Error("Invalid sampling frequency");this.samplerate=SAMPLERATES[index],this.flags&MP3FrameHeader.FLAGS.LSF_EXT&&(this.samplerate/=2,this.flags&MP3FrameHeader.FLAGS.MPEG_2_5_EXT&&(this.samplerate/=2)),stream.read(1)&&(this.flags|=MP3FrameHeader.FLAGS.PADDING),stream.read(1)&&(this.private_bits|=PRIVATE_HEADER),this.mode=3-stream.read(2),this.mode_extension=stream.read(2),stream.read(1)&&(this.flags|=MP3FrameHeader.FLAGS.COPYRIGHT),stream.read(1)&&(this.flags|=MP3FrameHeader.FLAGS.ORIGINAL),this.emphasis=stream.read(2),this.flags&MP3FrameHeader.FLAGS.PROTECTION&&(this.crc_target=stream.read(16))},MP3FrameHeader.decode=function(stream){for(var ptr=stream.next_frame,syncing=!0,header=null;syncing;){if(syncing=!1,stream.sync){if(!stream.available(MP3FrameHeader.BUFFER_GUARD))throw stream.next_frame=ptr,new AV.UnderflowError;if(255!==stream.getU8(ptr)||224!=(224&stream.getU8(ptr+1)))throw stream.this_frame=ptr,stream.next_frame=ptr+1,new AV.UnderflowError}else{if(stream.seek(8*ptr),!stream.doSync())throw new AV.UnderflowError;ptr=stream.nextByte()}stream.this_frame=ptr,stream.next_frame=ptr+1,stream.seek(8*stream.this_frame),(header=new MP3FrameHeader).decode(stream),0===header.bitrate&&((0===stream.freerate||!stream.sync||3===header.layer&&64e4<stream.freerate)&&MP3FrameHeader.free_bitrate(stream,header),header.bitrate=stream.freerate,header.flags|=MP3FrameHeader.FLAGS.FREEFORMAT);var pad_slot=header.flags&MP3FrameHeader.FLAGS.PADDING?1:0;if(1===header.layer)var N=4*((12*header.bitrate/header.samplerate<<0)+pad_slot);else N=((3===header.layer&&header.flags&MP3FrameHeader.FLAGS.LSF_EXT?72:144)*header.bitrate/header.samplerate<<0)+pad_slot;if(!stream.available(N+MP3FrameHeader.BUFFER_GUARD))throw stream.next_frame=stream.this_frame,new AV.UnderflowError;if(stream.next_frame=stream.this_frame+N,!stream.sync){if(ptr=stream.next_frame,255!==stream.getU8(ptr)||224!=(224&stream.getU8(ptr+1))){ptr=stream.next_frame=stream.this_frame+1,syncing=!0;continue}stream.sync=!0}}return header.flags|=MP3FrameHeader.FLAGS.INCOMPLETE,header},MP3FrameHeader.free_bitrate=function(stream,header){for(var pad_slot=header.flags&MP3FrameHeader.FLAGS.PADDING?1:0,slots_per_frame=3===header.layer&&header.flags&MP3FrameHeader.FLAGS.LSF_EXT?72:144,start=stream.offset(),rate=0;stream.doSync();){var peek_header=header.copy(),peek_stream=stream.copy();if(peek_header.decode(peek_stream)&&peek_header.layer===header.layer&&peek_header.samplerate===header.samplerate){var N=stream.nextByte()-stream.this_frame;if(8<=(rate=1===header.layer?header.samplerate*(N-4*pad_slot+4)/48/1e3|0:header.samplerate*(N-pad_slot+1)/slots_per_frame/1e3|0))break}stream.advance(8)}if(stream.seek(start),rate<8||3===header.layer&&640<rate)throw new AV.UnderflowError;stream.freerate=1e3*rate},module.exports=MP3FrameHeader}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(require,module,exports){function PTR(offs,bits){return{final:0,ptr:{bits:bits,offset:offs}}}function huffquad_V(v,w,x,y,hlen){return{final:1,value:{v:v,w:w,x:x,y:y,hlen:hlen}}}function V(x,y,hlen){return{final:1,value:{x:x,y:y,hlen:hlen}}}var hufftabA=[PTR(16,2),PTR(20,2),PTR(24,1),PTR(26,1),huffquad_V(0,0,1,0,4),huffquad_V(0,0,0,1,4),huffquad_V(0,1,0,0,4),huffquad_V(1,0,0,0,4),huffquad_V(0,0,0,0,1),huffquad_V(0,0,0,0,1),huffquad_V(0,0,0,0,1),huffquad_V(0,0,0,0,1),huffquad_V(0,0,0,0,1),huffquad_V(0,0,0,0,1),huffquad_V(0,0,0,0,1),huffquad_V(0,0,0,0,1),huffquad_V(1,0,1,1,2),huffquad_V(1,1,1,1,2),huffquad_V(1,1,0,1,2),huffquad_V(1,1,1,0,2),huffquad_V(0,1,1,1,2),huffquad_V(0,1,0,1,2),huffquad_V(1,0,0,1,1),huffquad_V(1,0,0,1,1),huffquad_V(0,1,1,0,1),huffquad_V(0,0,1,1,1),huffquad_V(1,0,1,0,1),huffquad_V(1,1,0,0,1)],hufftabB=[huffquad_V(1,1,1,1,4),huffquad_V(1,1,1,0,4),huffquad_V(1,1,0,1,4),huffquad_V(1,1,0,0,4),huffquad_V(1,0,1,1,4),huffquad_V(1,0,1,0,4),huffquad_V(1,0,0,1,4),huffquad_V(1,0,0,0,4),huffquad_V(0,1,1,1,4),huffquad_V(0,1,1,0,4),huffquad_V(0,1,0,1,4),huffquad_V(0,1,0,0,4),huffquad_V(0,0,1,1,4),huffquad_V(0,0,1,0,4),huffquad_V(0,0,0,1,4),huffquad_V(0,0,0,0,4)],hufftab0=[V(0,0,0)],hufftab1=[V(1,1,3),V(0,1,3),V(1,0,2),V(1,0,2),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1)],hufftab2=[PTR(8,3),V(1,1,3),V(0,1,3),V(1,0,3),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(2,2,3),V(0,2,3),V(1,2,2),V(1,2,2),V(2,1,2),V(2,1,2),V(2,0,2),V(2,0,2)],hufftab3=[PTR(8,3),V(1,0,3),V(1,1,2),V(1,1,2),V(0,1,2),V(0,1,2),V(0,0,2),V(0,0,2),V(2,2,3),V(0,2,3),V(1,2,2),V(1,2,2),V(2,1,2),V(2,1,2),V(2,0,2),V(2,0,2)],hufftab5=[PTR(8,4),V(1,1,3),V(0,1,3),V(1,0,3),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),PTR(24,1),V(3,2,4),V(3,1,3),V(3,1,3),V(1,3,4),V(0,3,4),V(3,0,4),V(2,2,4),V(1,2,3),V(1,2,3),V(2,1,3),V(2,1,3),V(0,2,3),V(0,2,3),V(2,0,3),V(2,0,3),V(3,3,1),V(2,3,1)],hufftab6=[PTR(16,3),PTR(24,1),PTR(26,1),V(1,2,4),V(2,1,4),V(2,0,4),V(0,1,3),V(0,1,3),V(1,1,2),V(1,1,2),V(1,1,2),V(1,1,2),V(1,0,3),V(1,0,3),V(0,0,3),V(0,0,3),V(3,3,3),V(0,3,3),V(2,3,2),V(2,3,2),V(3,2,2),V(3,2,2),V(3,0,2),V(3,0,2),V(1,3,1),V(3,1,1),V(2,2,1),V(0,2,1)],hufftab7=[PTR(16,4),PTR(32,4),PTR(48,2),V(1,1,4),V(0,1,3),V(0,1,3),V(1,0,3),V(1,0,3),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),PTR(52,2),PTR(56,1),PTR(58,1),V(1,5,4),V(5,1,4),PTR(60,1),V(5,0,4),PTR(62,1),V(2,4,4),V(4,2,4),V(1,4,3),V(1,4,3),V(4,1,3),V(4,1,3),V(4,0,3),V(4,0,3),V(0,4,4),V(2,3,4),V(3,2,4),V(0,3,4),V(1,3,3),V(1,3,3),V(3,1,3),V(3,1,3),V(3,0,3),V(3,0,3),V(2,2,3),V(2,2,3),V(1,2,2),V(1,2,2),V(1,2,2),V(1,2,2),V(2,1,1),V(2,1,1),V(0,2,2),V(2,0,2),V(5,5,2),V(4,5,2),V(5,4,2),V(5,3,2),V(3,5,1),V(4,4,1),V(2,5,1),V(5,2,1),V(0,5,1),V(3,4,1),V(4,3,1),V(3,3,1)],hufftab8=[PTR(16,4),PTR(32,4),V(1,2,4),V(2,1,4),V(1,1,2),V(1,1,2),V(1,1,2),V(1,1,2),V(0,1,3),V(0,1,3),V(1,0,3),V(1,0,3),V(0,0,2),V(0,0,2),V(0,0,2),V(0,0,2),PTR(48,3),PTR(56,2),PTR(60,1),V(1,5,4),V(5,1,4),PTR(62,1),PTR(64,1),V(2,4,4),V(4,2,4),V(1,4,4),V(4,1,3),V(4,1,3),V(0,4,4),V(4,0,4),V(2,3,4),V(3,2,4),V(1,3,4),V(3,1,4),V(0,3,4),V(3,0,4),V(2,2,2),V(2,2,2),V(2,2,2),V(2,2,2),V(0,2,2),V(0,2,2),V(0,2,2),V(0,2,2),V(2,0,2),V(2,0,2),V(2,0,2),V(2,0,2),V(5,5,3),V(5,4,3),V(4,5,2),V(4,5,2),V(5,3,1),V(5,3,1),V(5,3,1),V(5,3,1),V(3,5,2),V(4,4,2),V(2,5,1),V(2,5,1),V(5,2,1),V(0,5,1),V(3,4,1),V(4,3,1),V(5,0,1),V(3,3,1)],hufftab9=[PTR(16,4),PTR(32,3),PTR(40,2),PTR(44,2),PTR(48,1),V(1,2,4),V(2,1,4),V(2,0,4),V(1,1,3),V(1,1,3),V(0,1,3),V(0,1,3),V(1,0,3),V(1,0,3),V(0,0,3),V(0,0,3),PTR(50,1),V(3,5,4),V(5,3,4),PTR(52,1),V(4,4,4),V(2,5,4),V(5,2,4),V(1,5,4),V(5,1,3),V(5,1,3),V(3,4,3),V(3,4,3),V(4,3,3),V(4,3,3),V(5,0,4),V(0,4,4),V(2,4,3),V(4,2,3),V(3,3,3),V(4,0,3),V(1,4,2),V(1,4,2),V(4,1,2),V(4,1,2),V(2,3,2),V(3,2,2),V(1,3,1),V(1,3,1),V(3,1,1),V(3,1,1),V(0,3,2),V(3,0,2),V(2,2,1),V(0,2,1),V(5,5,1),V(4,5,1),V(5,4,1),V(0,5,1)],hufftab10=[PTR(16,4),PTR(32,4),PTR(48,2),V(1,1,4),V(0,1,3),V(0,1,3),V(1,0,3),V(1,0,3),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),PTR(52,3),PTR(60,2),PTR(64,3),PTR(72,1),PTR(74,2),PTR(78,2),PTR(82,2),V(1,7,4),V(7,1,4),PTR(86,1),PTR(88,2),PTR(92,2),V(1,6,4),V(6,1,4),V(6,0,4),PTR(96,1),PTR(98,1),PTR(100,1),V(1,4,4),V(4,1,4),V(4,0,4),V(2,3,4),V(3,2,4),V(0,3,4),V(1,3,3),V(1,3,3),V(3,1,3),V(3,1,3),V(3,0,3),V(3,0,3),V(2,2,3),V(2,2,3),V(1,2,2),V(2,1,2),V(0,2,2),V(2,0,2),V(7,7,3),V(6,7,3),V(7,6,3),V(5,7,3),V(7,5,3),V(6,6,3),V(4,7,2),V(4,7,2),V(7,4,2),V(5,6,2),V(6,5,2),V(3,7,2),V(7,3,2),V(7,3,2),V(4,6,2),V(4,6,2),V(5,5,3),V(5,4,3),V(6,3,2),V(6,3,2),V(2,7,1),V(7,2,1),V(6,4,2),V(0,7,2),V(7,0,1),V(7,0,1),V(6,2,1),V(6,2,1),V(4,5,2),V(3,5,2),V(0,6,1),V(0,6,1),V(5,3,2),V(4,4,2),V(3,6,1),V(2,6,1),V(2,5,2),V(5,2,2),V(1,5,1),V(1,5,1),V(5,1,1),V(5,1,1),V(3,4,2),V(4,3,2),V(0,5,1),V(5,0,1),V(2,4,1),V(4,2,1),V(3,3,1),V(0,4,1)],hufftab11=[PTR(16,4),PTR(32,4),PTR(48,4),PTR(64,3),V(1,2,4),PTR(72,1),V(1,1,3),V(1,1,3),V(0,1,3),V(0,1,3),V(1,0,3),V(1,0,3),V(0,0,2),V(0,0,2),V(0,0,2),V(0,0,2),PTR(74,2),PTR(78,3),PTR(86,2),PTR(90,1),PTR(92,2),V(2,7,4),V(7,2,4),PTR(96,1),V(7,1,3),V(7,1,3),V(1,7,4),V(7,0,4),V(3,6,4),V(6,3,4),V(6,0,4),PTR(98,1),PTR(100,1),V(1,5,4),V(6,2,3),V(6,2,3),V(2,6,4),V(0,6,4),V(1,6,3),V(1,6,3),V(6,1,3),V(6,1,3),V(5,1,4),V(3,4,4),V(5,0,4),PTR(102,1),V(2,4,4),V(4,2,4),V(1,4,4),V(4,1,4),V(0,4,4),V(4,0,4),V(2,3,3),V(2,3,3),V(3,2,3),V(3,2,3),V(1,3,2),V(1,3,2),V(1,3,2),V(1,3,2),V(3,1,2),V(3,1,2),V(3,1,2),V(3,1,2),V(0,3,3),V(3,0,3),V(2,2,2),V(2,2,2),V(2,1,1),V(2,1,1),V(2,1,1),V(2,1,1),V(0,2,1),V(2,0,1),V(7,7,2),V(6,7,2),V(7,6,2),V(7,5,2),V(6,6,2),V(6,6,2),V(4,7,2),V(4,7,2),V(7,4,2),V(7,4,2),V(5,7,3),V(5,5,3),V(5,6,2),V(6,5,2),V(3,7,1),V(3,7,1),V(7,3,1),V(4,6,1),V(4,5,2),V(5,4,2),V(3,5,2),V(5,3,2),V(6,4,1),V(0,7,1),V(4,4,1),V(2,5,1),V(5,2,1),V(0,5,1),V(4,3,1),V(3,3,1)],hufftab12=[PTR(16,4),PTR(32,4),PTR(48,4),PTR(64,2),PTR(68,3),PTR(76,1),V(1,2,4),V(2,1,4),PTR(78,1),V(0,0,4),V(1,1,3),V(1,1,3),V(0,1,3),V(0,1,3),V(1,0,3),V(1,0,3),PTR(80,2),PTR(84,1),PTR(86,1),PTR(88,1),V(5,6,4),V(3,7,4),PTR(90,1),V(2,7,4),V(7,2,4),V(4,6,4),V(6,4,4),V(1,7,4),V(7,1,4),PTR(92,1),V(3,6,4),V(6,3,4),V(4,5,4),V(5,4,4),V(4,4,4),PTR(94,1),V(2,6,3),V(2,6,3),V(6,2,3),V(6,2,3),V(6,1,3),V(6,1,3),V(1,6,4),V(6,0,4),V(3,5,4),V(5,3,4),V(2,5,4),V(5,2,4),V(1,5,3),V(1,5,3),V(5,1,3),V(5,1,3),V(3,4,3),V(3,4,3),V(4,3,3),V(4,3,3),V(5,0,4),V(0,4,4),V(2,4,3),V(2,4,3),V(4,2,3),V(4,2,3),V(1,4,3),V(1,4,3),V(3,3,2),V(4,1,2),V(2,3,2),V(3,2,2),V(4,0,3),V(0,3,3),V(3,0,2),V(3,0,2),V(1,3,1),V(1,3,1),V(1,3,1),V(1,3,1),V(3,1,1),V(2,2,1),V(0,2,1),V(2,0,1),V(7,7,2),V(6,7,2),V(7,6,1),V(7,6,1),V(5,7,1),V(7,5,1),V(6,6,1),V(4,7,1),V(7,4,1),V(6,5,1),V(7,3,1),V(5,5,1),V(0,7,1),V(7,0,1),V(0,6,1),V(0,5,1)],hufftab13=[PTR(16,4),PTR(32,4),PTR(48,4),PTR(64,2),V(1,1,4),V(0,1,4),V(1,0,3),V(1,0,3),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),PTR(68,4),PTR(84,4),PTR(100,4),PTR(116,4),PTR(132,4),PTR(148,4),PTR(164,3),PTR(172,3),PTR(180,3),PTR(188,3),PTR(196,3),PTR(204,3),PTR(212,1),PTR(214,2),PTR(218,3),PTR(226,1),PTR(228,2),PTR(232,2),PTR(236,2),PTR(240,2),V(8,1,4),PTR(244,1),PTR(246,1),PTR(248,1),PTR(250,2),PTR(254,1),V(1,5,4),V(5,1,4),PTR(256,1),PTR(258,1),PTR(260,1),V(1,4,4),V(4,1,3),V(4,1,3),V(0,4,4),V(4,0,4),V(2,3,4),V(3,2,4),V(1,3,3),V(1,3,3),V(3,1,3),V(3,1,3),V(0,3,3),V(0,3,3),V(3,0,3),V(3,0,3),V(2,2,3),V(2,2,3),V(1,2,2),V(2,1,2),V(0,2,2),V(2,0,2),PTR(262,4),PTR(278,4),PTR(294,4),PTR(310,3),PTR(318,2),PTR(322,2),PTR(326,3),PTR(334,2),PTR(338,1),PTR(340,2),PTR(344,2),PTR(348,2),PTR(352,2),PTR(356,2),V(1,15,4),V(15,1,4),V(15,0,4),PTR(360,1),PTR(362,1),PTR(364,1),V(14,2,4),PTR(366,1),V(1,14,4),V(14,1,4),PTR(368,1),PTR(370,1),PTR(372,1),PTR(374,1),PTR(376,1),PTR(378,1),V(12,6,4),V(3,13,4),PTR(380,1),V(2,13,4),V(13,2,4),V(1,13,4),V(11,7,4),PTR(382,1),PTR(384,1),V(12,3,4),PTR(386,1),V(4,11,4),V(13,1,3),V(13,1,3),V(0,13,4),V(13,0,4),V(8,10,4),V(10,8,4),V(4,12,4),V(12,4,4),V(6,11,4),V(11,6,4),V(3,12,3),V(3,12,3),V(2,12,3),V(2,12,3),V(12,2,3),V(12,2,3),V(5,11,3),V(5,11,3),V(11,5,4),V(8,9,4),V(1,12,3),V(1,12,3),V(12,1,3),V(12,1,3),V(9,8,4),V(0,12,4),V(12,0,3),V(12,0,3),V(11,4,4),V(6,10,4),V(10,6,4),V(7,9,4),V(3,11,3),V(3,11,3),V(11,3,3),V(11,3,3),V(8,8,4),V(5,10,4),V(2,11,3),V(2,11,3),V(10,5,4),V(6,9,4),V(10,4,3),V(10,4,3),V(7,8,4),V(8,7,4),V(9,4,3),V(9,4,3),V(7,7,4),V(7,6,4),V(11,2,2),V(11,2,2),V(11,2,2),V(11,2,2),V(1,11,2),V(1,11,2),V(11,1,2),V(11,1,2),V(0,11,3),V(11,0,3),V(9,6,3),V(4,10,3),V(3,10,3),V(10,3,3),V(5,9,3),V(9,5,3),V(2,10,2),V(2,10,2),V(10,2,2),V(10,2,2),V(1,10,2),V(1,10,2),V(10,1,2),V(10,1,2),V(0,10,3),V(6,8,3),V(10,0,2),V(10,0,2),V(8,6,3),V(4,9,3),V(9,3,2),V(9,3,2),V(3,9,3),V(5,8,3),V(8,5,3),V(6,7,3),V(2,9,2),V(2,9,2),V(9,2,2),V(9,2,2),V(5,7,3),V(7,5,3),V(3,8,2),V(3,8,2),V(8,3,2),V(8,3,2),V(6,6,3),V(4,7,3),V(7,4,3),V(5,6,3),V(6,5,3),V(7,3,3),V(1,9,1),V(9,1,1),V(0,9,2),V(9,0,2),V(4,8,2),V(8,4,2),V(7,2,2),V(7,2,2),V(4,6,3),V(6,4,3),V(2,8,1),V(2,8,1),V(2,8,1),V(2,8,1),V(8,2,1),V(1,8,1),V(3,7,2),V(2,7,2),V(1,7,1),V(1,7,1),V(7,1,1),V(7,1,1),V(5,5,2),V(0,7,2),V(7,0,2),V(3,6,2),V(6,3,2),V(4,5,2),V(5,4,2),V(2,6,2),V(6,2,2),V(3,5,2),V(0,8,1),V(8,0,1),V(1,6,1),V(6,1,1),V(0,6,1),V(6,0,1),V(5,3,2),V(4,4,2),V(2,5,1),V(2,5,1),V(5,2,1),V(0,5,1),V(3,4,1),V(4,3,1),V(5,0,1),V(2,4,1),V(4,2,1),V(3,3,1),PTR(388,3),V(15,15,4),V(14,15,4),V(13,15,4),V(14,14,4),V(12,15,4),V(13,14,4),V(11,15,4),V(15,11,4),V(12,14,4),V(13,12,4),PTR(396,1),V(14,12,3),V(14,12,3),V(13,13,3),V(13,13,3),V(15,10,4),V(12,13,4),V(11,14,3),V(11,14,3),V(14,11,3),V(14,11,3),V(9,15,3),V(9,15,3),V(15,9,3),V(15,9,3),V(14,10,3),V(14,10,3),V(11,13,3),V(11,13,3),V(13,11,3),V(13,11,3),V(8,15,3),V(8,15,3),V(15,8,3),V(15,8,3),V(12,12,3),V(12,12,3),V(10,14,4),V(9,14,4),V(8,14,3),V(8,14,3),V(7,15,4),V(7,14,4),V(15,7,2),V(15,7,2),V(15,7,2),V(15,7,2),V(13,10,2),V(13,10,2),V(10,13,3),V(11,12,3),V(12,11,3),V(15,6,3),V(6,15,2),V(6,15,2),V(14,8,2),V(5,15,2),V(9,13,2),V(13,9,2),V(15,5,2),V(14,7,2),V(10,12,2),V(11,11,2),V(4,15,2),V(4,15,2),V(15,4,2),V(15,4,2),V(12,10,3),V(14,6,3),V(15,3,2),V(15,3,2),V(3,15,1),V(3,15,1),V(8,13,2),V(13,8,2),V(2,15,1),V(15,2,1),V(6,14,2),V(9,12,2),V(0,15,1),V(0,15,1),V(12,9,2),V(5,14,2),V(10,11,1),V(10,11,1),V(7,13,2),V(13,7,2),V(4,14,1),V(4,14,1),V(12,8,2),V(13,6,2),V(3,14,1),V(3,14,1),V(11,9,1),V(11,9,1),V(9,11,2),V(10,10,2),V(11,10,1),V(14,5,1),V(14,4,1),V(8,12,1),V(6,13,1),V(14,3,1),V(2,14,1),V(0,14,1),V(14,0,1),V(5,13,1),V(13,5,1),V(7,12,1),V(12,7,1),V(4,13,1),V(8,11,1),V(11,8,1),V(13,4,1),V(9,10,1),V(10,9,1),V(6,12,1),V(13,3,1),V(7,11,1),V(5,12,1),V(12,5,1),V(9,9,1),V(7,10,1),V(10,7,1),V(9,7,1),V(15,14,3),V(15,12,3),V(15,13,2),V(15,13,2),V(14,13,1),V(14,13,1),V(14,13,1),V(14,13,1),V(10,15,1),V(14,9,1)],hufftab15=[PTR(16,4),PTR(32,4),PTR(48,4),PTR(64,4),PTR(80,4),PTR(96,3),PTR(104,3),PTR(112,2),PTR(116,1),PTR(118,1),V(1,1,3),V(1,1,3),V(0,1,4),V(1,0,4),V(0,0,3),V(0,0,3),PTR(120,4),PTR(136,4),PTR(152,4),PTR(168,4),PTR(184,4),PTR(200,3),PTR(208,3),PTR(216,4),PTR(232,3),PTR(240,3),PTR(248,3),PTR(256,3),PTR(264,2),PTR(268,3),PTR(276,3),PTR(284,2),PTR(288,2),PTR(292,2),PTR(296,2),PTR(300,2),PTR(304,2),PTR(308,2),PTR(312,2),PTR(316,2),PTR(320,1),PTR(322,1),PTR(324,1),PTR(326,2),PTR(330,1),PTR(332,1),PTR(334,2),PTR(338,1),PTR(340,1),PTR(342,1),V(9,1,4),PTR(344,1),PTR(346,1),PTR(348,1),PTR(350,1),PTR(352,1),V(2,8,4),V(8,2,4),V(1,8,4),V(8,1,4),PTR(354,1),PTR(356,1),PTR(358,1),PTR(360,1),V(2,7,4),V(7,2,4),V(6,4,4),V(1,7,4),V(5,5,4),V(7,1,4),PTR(362,1),V(3,6,4),V(6,3,4),V(4,5,4),V(5,4,4),V(2,6,4),V(6,2,4),V(1,6,4),PTR(364,1),V(3,5,4),V(6,1,3),V(6,1,3),V(5,3,4),V(4,4,4),V(2,5,3),V(2,5,3),V(5,2,3),V(5,2,3),V(1,5,3),V(1,5,3),V(5,1,3),V(5,1,3),V(0,5,4),V(5,0,4),V(3,4,3),V(3,4,3),V(4,3,3),V(2,4,3),V(4,2,3),V(3,3,3),V(4,1,2),V(4,1,2),V(1,4,3),V(0,4,3),V(2,3,2),V(2,3,2),V(3,2,2),V(3,2,2),V(4,0,3),V(0,3,3),V(1,3,2),V(1,3,2),V(3,1,2),V(3,0,2),V(2,2,1),V(2,2,1),V(1,2,1),V(2,1,1),V(0,2,1),V(2,0,1),PTR(366,1),PTR(368,1),V(14,14,4),PTR(370,1),PTR(372,1),PTR(374,1),V(15,11,4),PTR(376,1),V(13,13,4),V(10,15,4),V(15,10,4),V(11,14,4),V(14,11,4),V(12,13,4),V(13,12,4),V(9,15,4),V(15,9,4),V(14,10,4),V(11,13,4),V(13,11,4),V(8,15,4),V(15,8,4),V(12,12,4),V(9,14,4),V(14,9,4),V(7,15,4),V(15,7,4),V(10,13,4),V(13,10,4),V(11,12,4),V(6,15,4),PTR(378,1),V(12,11,3),V(12,11,3),V(15,6,3),V(15,6,3),V(8,14,4),V(14,8,4),V(5,15,4),V(9,13,4),V(15,5,3),V(15,5,3),V(7,14,3),V(7,14,3),V(14,7,3),V(14,7,3),V(10,12,3),V(10,12,3),V(12,10,3),V(12,10,3),V(11,11,3),V(11,11,3),V(13,9,4),V(8,13,4),V(4,15,3),V(4,15,3),V(15,4,3),V(15,4,3),V(3,15,3),V(3,15,3),V(15,3,3),V(15,3,3),V(13,8,3),V(13,8,3),V(14,6,3),V(14,6,3),V(2,15,3),V(2,15,3),V(15,2,3),V(15,2,3),V(6,14,4),V(15,0,4),V(1,15,3),V(1,15,3),V(15,1,3),V(15,1,3),V(9,12,3),V(9,12,3),V(12,9,3),V(12,9,3),V(5,14,3),V(10,11,3),V(11,10,3),V(14,5,3),V(7,13,3),V(13,7,3),V(4,14,3),V(14,4,3),V(8,12,3),V(12,8,3),V(3,14,3),V(6,13,3),V(13,6,3),V(14,3,3),V(9,11,3),V(11,9,3),V(2,14,3),V(2,14,3),V(10,10,3),V(10,10,3),V(14,2,3),V(14,2,3),V(1,14,3),V(1,14,3),V(14,1,3),V(14,1,3),V(0,14,4),V(14,0,4),V(5,13,3),V(5,13,3),V(13,5,3),V(13,5,3),V(7,12,3),V(12,7,3),V(4,13,3),V(8,11,3),V(13,4,2),V(13,4,2),V(11,8,3),V(9,10,3),V(10,9,3),V(6,12,3),V(12,6,3),V(3,13,3),V(13,3,2),V(13,3,2),V(13,2,2),V(13,2,2),V(2,13,3),V(0,13,3),V(1,13,2),V(1,13,2),V(7,11,2),V(7,11,2),V(11,7,2),V(11,7,2),V(13,1,2),V(13,1,2),V(5,12,3),V(13,0,3),V(12,5,2),V(12,5,2),V(8,10,2),V(8,10,2),V(10,8,2),V(4,12,2),V(12,4,2),V(6,11,2),V(11,6,2),V(11,6,2),V(9,9,3),V(0,12,3),V(3,12,2),V(3,12,2),V(12,3,2),V(12,3,2),V(7,10,2),V(7,10,2),V(10,7,2),V(10,7,2),V(10,6,2),V(10,6,2),V(12,0,3),V(0,11,3),V(12,2,1),V(12,2,1),V(2,12,2),V(5,11,2),V(11,5,2),V(1,12,2),V(8,9,2),V(9,8,2),V(12,1,2),V(4,11,2),V(11,4,2),V(6,10,2),V(3,11,2),V(7,9,2),V(11,3,1),V(11,3,1),V(9,7,2),V(8,8,2),V(2,11,2),V(5,10,2),V(11,2,1),V(11,2,1),V(10,5,2),V(1,11,2),V(11,1,1),V(11,1,1),V(11,0,2),V(6,9,2),V(9,6,2),V(4,10,2),V(10,4,2),V(7,8,2),V(8,7,2),V(3,10,2),V(10,3,1),V(10,3,1),V(5,9,1),V(9,5,1),V(2,10,1),V(10,2,1),V(1,10,1),V(10,1,1),V(0,10,2),V(10,0,2),V(6,8,1),V(6,8,1),V(8,6,1),V(4,9,1),V(9,4,1),V(3,9,1),V(9,3,1),V(9,3,1),V(7,7,2),V(0,9,2),V(5,8,1),V(8,5,1),V(2,9,1),V(6,7,1),V(7,6,1),V(9,2,1),V(1,9,1),V(9,0,1),V(4,8,1),V(8,4,1),V(5,7,1),V(7,5,1),V(3,8,1),V(8,3,1),V(6,6,1),V(4,7,1),V(7,4,1),V(0,8,1),V(8,0,1),V(5,6,1),V(6,5,1),V(3,7,1),V(7,3,1),V(4,6,1),V(0,7,1),V(7,0,1),V(0,6,1),V(6,0,1),V(15,15,1),V(14,15,1),V(15,14,1),V(13,15,1),V(15,13,1),V(12,15,1),V(15,12,1),V(13,14,1),V(14,13,1),V(11,15,1),V(12,14,1),V(14,12,1),V(10,14,1),V(0,15,1)],hufftab16=[PTR(16,4),PTR(32,4),PTR(48,4),PTR(64,2),V(1,1,4),V(0,1,4),V(1,0,3),V(1,0,3),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),V(0,0,1),PTR(68,3),PTR(76,3),PTR(84,2),V(15,15,4),PTR(88,2),PTR(92,1),PTR(94,4),V(15,2,4),PTR(110,1),V(1,15,4),V(15,1,4),PTR(112,4),PTR(128,4),PTR(144,4),PTR(160,4),PTR(176,4),PTR(192,4),PTR(208,3),PTR(216,3),PTR(224,3),PTR(232,3),PTR(240,3),PTR(248,3),PTR(256,3),PTR(264,2),PTR(268,2),PTR(272,1),PTR(274,2),PTR(278,2),PTR(282,1),V(5,1,4),PTR(284,1),PTR(286,1),PTR(288,1),PTR(290,1),V(1,4,4),V(4,1,4),PTR(292,1),V(2,3,4),V(3,2,4),V(1,3,3),V(1,3,3),V(3,1,3),V(3,1,3),V(0,3,4),V(3,0,4),V(2,2,3),V(2,2,3),V(1,2,2),V(2,1,2),V(0,2,2),V(2,0,2),V(14,15,3),V(15,14,3),V(13,15,3),V(15,13,3),V(12,15,3),V(15,12,3),V(11,15,3),V(15,11,3),V(10,15,2),V(10,15,2),V(15,10,3),V(9,15,3),V(15,9,3),V(15,8,3),V(8,15,2),V(8,15,2),V(7,15,2),V(15,7,2),V(6,15,2),V(15,6,2),V(5,15,2),V(15,5,2),V(4,15,1),V(4,15,1),V(15,4,1),V(15,3,1),V(15,0,1),V(15,0,1),V(15,0,1),V(15,0,1),V(15,0,1),V(15,0,1),V(15,0,1),V(15,0,1),V(3,15,2),V(3,15,2),V(3,15,2),V(3,15,2),PTR(294,4),PTR(310,3),PTR(318,3),PTR(326,3),V(2,15,1),V(0,15,1),PTR(334,2),PTR(338,2),PTR(342,2),PTR(346,1),PTR(348,2),PTR(352,2),PTR(356,1),PTR(358,2),PTR(362,2),PTR(366,2),PTR(370,2),V(14,3,4),PTR(374,1),PTR(376,1),PTR(378,1),PTR(380,1),PTR(382,1),PTR(384,1),PTR(386,1),V(0,13,4),PTR(388,1),PTR(390,1),PTR(392,1),V(3,12,4),PTR(394,1),V(1,12,4),V(12,0,4),PTR(396,1),V(14,2,3),V(14,2,3),V(2,14,4),V(1,14,4),V(13,3,4),V(2,13,4),V(13,2,4),V(13,1,4),V(3,11,4),PTR(398,1),V(1,13,3),V(1,13,3),V(12,4,4),V(6,11,4),V(12,3,4),V(10,7,4),V(2,12,3),V(2,12,3),V(12,2,4),V(11,5,4),V(12,1,4),V(0,12,4),V(4,11,4),V(11,4,4),V(6,10,4),V(10,6,4),V(11,3,3),V(11,3,3),V(5,10,4),V(10,5,4),V(2,11,3),V(2,11,3),V(11,2,3),V(11,2,3),V(1,11,3),V(1,11,3),V(11,1,3),V(11,1,3),V(0,11,4),V(11,0,4),V(6,9,4),V(9,6,4),V(4,10,4),V(10,4,4),V(7,8,4),V(8,7,4),V(10,3,3),V(10,3,3),V(3,10,4),V(5,9,4),V(2,10,3),V(2,10,3),V(9,5,4),V(6,8,4),V(10,1,3),V(10,1,3),V(8,6,4),V(7,7,4),V(9,4,3),V(9,4,3),V(4,9,4),V(5,7,4),V(6,7,3),V(6,7,3),V(10,2,2),V(10,2,2),V(10,2,2),V(10,2,2),V(1,10,2),V(1,10,2),V(0,10,3),V(10,0,3),V(3,9,3),V(9,3,3),V(5,8,3),V(8,5,3),V(2,9,2),V(2,9,2),V(9,2,2),V(9,2,2),V(7,6,3),V(0,9,3),V(1,9,2),V(1,9,2),V(9,1,2),V(9,1,2),V(9,0,3),V(4,8,3),V(8,4,3),V(7,5,3),V(3,8,3),V(8,3,3),V(6,6,3),V(2,8,3),V(8,2,2),V(8,2,2),V(4,7,3),V(7,4,3),V(1,8,2),V(1,8,2),V(8,1,2),V(8,1,2),V(8,0,2),V(8,0,2),V(0,8,3),V(5,6,3),V(3,7,2),V(3,7,2),V(7,3,2),V(7,3,2),V(6,5,3),V(4,6,3),V(2,7,2),V(2,7,2),V(7,2,2),V(7,2,2),V(6,4,3),V(5,5,3),V(0,7,2),V(0,7,2),V(1,7,1),V(1,7,1),V(1,7,1),V(1,7,1),V(7,1,1),V(7,1,1),V(7,0,2),V(3,6,2),V(6,3,2),V(4,5,2),V(5,4,2),V(2,6,2),V(6,2,1),V(1,6,1),V(6,1,1),V(6,1,1),V(0,6,2),V(6,0,2),V(5,3,1),V(5,3,1),V(3,5,2),V(4,4,2),V(2,5,1),V(5,2,1),V(1,5,1),V(0,5,1),V(3,4,1),V(4,3,1),V(5,0,1),V(2,4,1),V(4,2,1),V(3,3,1),V(0,4,1),V(4,0,1),V(12,14,4),PTR(400,1),V(13,14,3),V(13,14,3),V(14,9,3),V(14,9,3),V(14,10,4),V(13,9,4),V(14,14,2),V(14,14,2),V(14,14,2),V(14,14,2),V(14,13,3),V(14,13,3),V(14,11,3),V(14,11,3),V(11,14,2),V(11,14,2),V(12,13,2),V(12,13,2),V(13,12,3),V(13,11,3),V(10,14,2),V(10,14,2),V(12,12,2),V(12,12,2),V(10,13,3),V(13,10,3),V(7,14,3),V(10,12,3),V(12,10,2),V(12,10,2),V(12,9,3),V(7,13,3),V(5,14,2),V(5,14,2),V(11,13,1),V(11,13,1),V(11,13,1),V(11,13,1),V(9,14,1),V(9,14,1),V(11,12,2),V(12,11,2),V(8,14,2),V(14,8,2),V(9,13,2),V(14,7,2),V(11,11,2),V(8,13,2),V(13,8,2),V(6,14,2),V(14,6,1),V(9,12,1),V(10,11,2),V(11,10,2),V(14,5,2),V(13,7,2),V(4,14,1),V(4,14,1),V(14,4,2),V(8,12,2),V(12,8,1),V(3,14,1),V(6,13,1),V(6,13,1),V(13,6,2),V(9,11,2),V(11,9,2),V(10,10,2),V(14,1,1),V(14,1,1),V(13,4,1),V(13,4,1),V(11,8,2),V(10,9,2),V(7,11,1),V(7,11,1),V(11,7,2),V(13,0,2),V(0,14,1),V(14,0,1),V(5,13,1),V(13,5,1),V(7,12,1),V(12,7,1),V(4,13,1),V(8,11,1),V(9,10,1),V(6,12,1),V(12,6,1),V(3,13,1),V(5,12,1),V(12,5,1),V(8,10,1),V(10,8,1),V(9,9,1),V(4,12,1),V(11,6,1),V(7,10,1),V(5,11,1),V(8,9,1),V(9,8,1),V(7,9,1),V(9,7,1),V(8,8,1),V(14,12,1),V(13,13,1)],hufftab24=[PTR(16,4),PTR(32,4),PTR(48,4),V(15,15,4),PTR(64,4),PTR(80,4),PTR(96,4),PTR(112,4),PTR(128,4),PTR(144,4),PTR(160,3),PTR(168,2),V(1,1,4),V(0,1,4),V(1,0,4),V(0,0,4),V(14,15,4),V(15,14,4),V(13,15,4),V(15,13,4),V(12,15,4),V(15,12,4),V(11,15,4),V(15,11,4),V(15,10,3),V(15,10,3),V(10,15,4),V(9,15,4),V(15,9,3),V(15,9,3),V(15,8,3),V(15,8,3),V(8,15,4),V(7,15,4),V(15,7,3),V(15,7,3),V(6,15,3),V(6,15,3),V(15,6,3),V(15,6,3),V(5,15,3),V(5,15,3),V(15,5,3),V(15,5,3),V(4,15,3),V(4,15,3),V(15,4,3),V(15,4,3),V(3,15,3),V(3,15,3),V(15,3,3),V(15,3,3),V(2,15,3),V(2,15,3),V(15,2,3),V(15,2,3),V(15,1,3),V(15,1,3),V(1,15,4),V(15,0,4),PTR(172,3),PTR(180,3),PTR(188,3),PTR(196,3),PTR(204,4),PTR(220,3),PTR(228,3),PTR(236,3),PTR(244,2),PTR(248,2),PTR(252,2),PTR(256,2),PTR(260,2),PTR(264,2),PTR(268,2),PTR(272,2),PTR(276,2),PTR(280,3),PTR(288,2),PTR(292,2),PTR(296,2),PTR(300,3),PTR(308,2),PTR(312,3),PTR(320,1),PTR(322,2),PTR(326,2),PTR(330,1),PTR(332,2),PTR(336,1),PTR(338,1),PTR(340,1),PTR(342,1),PTR(344,1),PTR(346,1),PTR(348,1),PTR(350,1),PTR(352,1),PTR(354,1),PTR(356,1),PTR(358,1),PTR(360,1),PTR(362,1),PTR(364,1),PTR(366,1),PTR(368,1),PTR(370,2),PTR(374,1),PTR(376,2),V(7,3,4),PTR(380,1),V(7,2,4),V(4,6,4),V(6,4,4),V(5,5,4),V(7,1,4),V(3,6,4),V(6,3,4),V(4,5,4),V(5,4,4),V(2,6,4),V(6,2,4),V(1,6,4),V(6,1,4),PTR(382,1),V(3,5,4),V(5,3,4),V(4,4,4),V(2,5,4),V(5,2,4),V(1,5,4),PTR(384,1),V(5,1,3),V(5,1,3),V(3,4,4),V(4,3,4),V(2,4,3),V(2,4,3),V(4,2,3),V(4,2,3),V(3,3,3),V(3,3,3),V(1,4,3),V(1,4,3),V(4,1,3),V(4,1,3),V(0,4,4),V(4,0,4),V(2,3,3),V(2,3,3),V(3,2,3),V(3,2,3),V(1,3,2),V(1,3,2),V(1,3,2),V(1,3,2),V(3,1,2),V(3,1,2),V(3,1,2),V(3,1,2),V(0,3,3),V(3,0,3),V(2,2,2),V(2,2,2),V(1,2,1),V(1,2,1),V(1,2,1),V(1,2,1),V(2,1,1),V(2,1,1),V(0,2,2),V(2,0,2),V(0,15,1),V(0,15,1),V(0,15,1),V(0,15,1),V(14,14,3),V(13,14,3),V(14,13,3),V(12,14,3),V(14,12,3),V(13,13,3),V(11,14,3),V(14,11,3),V(12,13,3),V(13,12,3),V(10,14,3),V(14,10,3),V(11,13,3),V(13,11,3),V(12,12,3),V(9,14,3),V(14,9,3),V(10,13,3),V(13,10,3),V(11,12,3),V(12,11,3),V(8,14,3),V(14,8,3),V(9,13,3),V(13,9,3),V(7,14,3),V(14,7,3),V(10,12,3),V(12,10,3),V(12,10,3),V(11,11,3),V(11,11,3),V(8,13,3),V(8,13,3),V(13,8,3),V(13,8,3),V(0,14,4),V(14,0,4),V(0,13,3),V(0,13,3),V(14,6,2),V(14,6,2),V(14,6,2),V(14,6,2),V(6,14,3),V(9,12,3),V(12,9,2),V(12,9,2),V(5,14,2),V(5,14,2),V(11,10,2),V(11,10,2),V(14,5,2),V(14,5,2),V(10,11,3),V(7,13,3),V(13,7,2),V(13,7,2),V(14,4,2),V(14,4,2),V(8,12,2),V(8,12,2),V(12,8,2),V(12,8,2),V(4,14,3),V(2,14,3),V(3,14,2),V(3,14,2),V(6,13,2),V(13,6,2),V(14,3,2),V(9,11,2),V(11,9,2),V(10,10,2),V(14,2,2),V(1,14,2),V(14,1,2),V(5,13,2),V(13,5,2),V(7,12,2),V(12,7,2),V(4,13,2),V(8,11,2),V(11,8,2),V(13,4,2),V(9,10,2),V(10,9,2),V(6,12,2),V(12,6,2),V(3,13,2),V(13,3,2),V(2,13,2),V(13,2,2),V(1,13,2),V(7,11,2),V(11,7,2),V(13,1,2),V(5,12,2),V(12,5,2),V(8,10,2),V(10,8,2),V(9,9,2),V(4,12,2),V(12,4,2),V(6,11,2),V(6,11,2),V(11,6,2),V(11,6,2),V(13,0,3),V(0,12,3),V(3,12,2),V(3,12,2),V(12,3,2),V(7,10,2),V(10,7,2),V(2,12,2),V(12,2,2),V(5,11,2),V(11,5,2),V(1,12,2),V(8,9,2),V(9,8,2),V(12,1,2),V(4,11,2),V(12,0,3),V(0,11,3),V(3,11,2),V(3,11,2),V(11,0,3),V(0,10,3),V(1,10,2),V(1,10,2),V(11,4,1),V(11,4,1),V(6,10,2),V(10,6,2),V(7,9,2),V(7,9,2),V(9,7,2),V(9,7,2),V(10,0,3),V(0,9,3),V(9,0,2),V(9,0,2),V(11,3,1),V(8,8,1),V(2,11,2),V(5,10,2),V(11,2,1),V(11,2,1),V(10,5,2),V(1,11,2),V(11,1,2),V(6,9,2),V(9,6,1),V(10,4,1),V(4,10,2),V(7,8,2),V(8,7,1),V(8,7,1),V(3,10,1),V(10,3,1),V(5,9,1),V(9,5,1),V(2,10,1),V(10,2,1),V(10,1,1),V(6,8,1),V(8,6,1),V(7,7,1),V(4,9,1),V(9,4,1),V(3,9,1),V(9,3,1),V(5,8,1),V(8,5,1),V(2,9,1),V(6,7,1),V(7,6,1),V(9,2,1),V(1,9,1),V(9,1,1),V(4,8,1),V(8,4,1),V(5,7,1),V(7,5,1),V(3,8,1),V(8,3,1),V(6,6,1),V(2,8,1),V(8,2,1),V(1,8,1),V(4,7,1),V(7,4,1),V(8,1,1),V(8,1,1),V(0,8,2),V(8,0,2),V(5,6,1),V(6,5,1),V(1,7,1),V(1,7,1),V(0,7,2),V(7,0,2),V(3,7,1),V(2,7,1),V(0,6,1),V(6,0,1),V(0,5,1),V(5,0,1)];function MP3Hufftable(table,linbits,startbits){this.table=table,this.linbits=linbits,this.startbits=startbits}exports.huff_quad_table=[hufftabA,hufftabB],exports.huff_pair_table=[new MP3Hufftable(hufftab0,0,0),new MP3Hufftable(hufftab1,0,3),new MP3Hufftable(hufftab2,0,3),new MP3Hufftable(hufftab3,0,3),null,new MP3Hufftable(hufftab5,0,3),new MP3Hufftable(hufftab6,0,4),new MP3Hufftable(hufftab7,0,4),new MP3Hufftable(hufftab8,0,4),new MP3Hufftable(hufftab9,0,4),new MP3Hufftable(hufftab10,0,4),new MP3Hufftable(hufftab11,0,4),new MP3Hufftable(hufftab12,0,4),new MP3Hufftable(hufftab13,0,4),null,new MP3Hufftable(hufftab15,0,4),new MP3Hufftable(hufftab16,1,4),new MP3Hufftable(hufftab16,2,4),new MP3Hufftable(hufftab16,3,4),new MP3Hufftable(hufftab16,4,4),new MP3Hufftable(hufftab16,6,4),new MP3Hufftable(hufftab16,8,4),new MP3Hufftable(hufftab16,10,4),new MP3Hufftable(hufftab16,13,4),new MP3Hufftable(hufftab24,4,4),new MP3Hufftable(hufftab24,5,4),new MP3Hufftable(hufftab24,6,4),new MP3Hufftable(hufftab24,7,4),new MP3Hufftable(hufftab24,8,4),new MP3Hufftable(hufftab24,9,4),new MP3Hufftable(hufftab24,11,4),new MP3Hufftable(hufftab24,13,4)]},{}],7:[function(require,module,exports){(function(global){var AV="undefined"!=typeof window?window.AV:void 0!==global?global.AV:null,ENCODINGS=["latin1","utf16-bom","utf16-be","utf8"],ID3Stream=AV.Base.extend({constructor:function(header,stream){this.header=header,this.stream=stream,this.offset=0},read:function(){var frame;if(!this.data)for(this.data={};frame=this.readFrame();)frame.key in this.data?(Array.isArray(this.data[frame.key])||(this.data[frame.key]=[this.data[frame.key]]),this.data[frame.key].push(frame.value)):this.data[frame.key]=frame.value;return this.data},readFrame:function(){if(this.offset>=this.header.length)return null;var header=this.readHeader(),decoder=header.identifier;if(0===header.identifier.charCodeAt(0))return this.offset+=this.header.length+1,null;if(!this.frameTypes[decoder])for(var key in this.map)if(-1!==this.map[key].indexOf(decoder)){decoder=key;break}if(this.frameTypes[decoder]){var frame=this.decodeFrame(header,this.frameTypes[decoder]),keys=Object.keys(frame);1===keys.length&&(frame=frame[keys[0]]);var result={value:frame}}else result={value:this.stream.readBuffer(Math.min(header.length,this.header.length-this.offset))};return result.key=this.names[header.identifier]?this.names[header.identifier]:header.identifier,"coverArt"===result.key&&(result.value=result.value.data),this.offset+=10+header.length,result},decodeFrame:function(header,fields){var stream=this.stream,start=stream.offset,encoding=0,ret={},len=Object.keys(fields).length,i=0;for(var key in fields){var type=fields[key],rest=header.length-(stream.offset-start);switch(i++,key){case"encoding":encoding=stream.readUInt8();continue;case"language":ret.language=stream.readString(3);continue}switch(type){case"latin1":ret[key]=stream.readString(i===len?rest:null,"latin1");break;case"string":ret[key]=stream.readString(i===len?rest:null,ENCODINGS[encoding]);break;case"binary":ret[key]=stream.readBuffer(rest);break;case"int16":ret[key]=stream.readInt16();break;case"int8":ret[key]=stream.readInt8();break;case"int24":ret[key]=stream.readInt24();break;case"int32":ret[key]=stream.readInt32();break;case"int32+":if(ret[key]=stream.readInt32(),4<rest)throw new Error("Seriously dude? Stop playing this song and get a life!");break;case"date":var val=stream.readString(8);ret[key]=new Date(val.slice(0,4),val.slice(4,6)-1,val.slice(6,8));break;case"frame_id":ret[key]=stream.readString(4);break;default:throw new Error("Unknown key type "+type)}}return 0<(rest=header.length-(stream.offset-start))&&stream.advance(rest),ret}});exports.ID3v23Stream=ID3Stream.extend({readHeader:function(){var identifier=this.stream.readString(4),length=0;if(4===this.header.major)for(var i=0;i<4;i++)length=(length<<7)+(127&this.stream.readUInt8());else length=this.stream.readUInt32();return{identifier:identifier,length:length,flags:this.stream.readUInt16()}},map:{text:["TIT1","TIT2","TIT3","TALB","TOAL","TRCK","TPOS","TSST","TSRC","TPE1","TPE2","TPE3","TPE4","TOPE","TEXT","TOLY","TCOM","TMCL","TIPL","TENC","TBPM","TLEN","TKEY","TLAN","TCON","TFLT","TMED","TMOO","TCOP","TPRO","TPUB","TOWN","TRSN","TRSO","TOFN","TDLY","TDEN","TDOR","TDRC","TDRL","TDTG","TSSE","TSOA","TSOP","TSOT","TDAT","TIME","TORY","TRDA","TSIZ","TYER","TCMP","TSO2","TSOC"],url:["WCOM","WCOP","WOAF","WOAR","WOAS","WORS","WPAY","WPUB"]},frameTypes:{text:{encoding:1,value:"string"},url:{value:"latin1"},TXXX:{encoding:1,description:"string",value:"string"},WXXX:{encoding:1,description:"string",value:"latin1"},USLT:{encoding:1,language:1,description:"string",value:"string"},COMM:{encoding:1,language:1,description:"string",value:"string"},APIC:{encoding:1,mime:"latin1",type:"int8",description:"string",data:"binary"},UFID:{owner:"latin1",identifier:"binary"},MCDI:{value:"binary"},PRIV:{owner:"latin1",value:"binary"},GEOB:{encoding:1,mime:"latin1",filename:"string",description:"string",data:"binary"},PCNT:{value:"int32+"},POPM:{email:"latin1",rating:"int8",counter:"int32+"},AENC:{owner:"latin1",previewStart:"int16",previewLength:"int16",encryptionInfo:"binary"},ETCO:{format:"int8",data:"binary"},MLLT:{framesBetweenReference:"int16",bytesBetweenReference:"int24",millisecondsBetweenReference:"int24",bitsForBytesDeviation:"int8",bitsForMillisecondsDev:"int8",data:"binary"},SYTC:{format:"int8",tempoData:"binary"},SYLT:{encoding:1,language:1,format:"int8",contentType:"int8",description:"string",data:"binary"},RVA2:{identification:"latin1",data:"binary"},EQU2:{interpolationMethod:"int8",identification:"latin1",data:"binary"},RVRB:{left:"int16",right:"int16",bouncesLeft:"int8",bouncesRight:"int8",feedbackLL:"int8",feedbackLR:"int8",feedbackRR:"int8",feedbackRL:"int8",premixLR:"int8",premixRL:"int8"},RBUF:{size:"int24",flag:"int8",offset:"int32"},LINK:{identifier:"frame_id",url:"latin1",data:"binary"},POSS:{format:"int8",position:"binary"},USER:{encoding:1,language:1,value:"string"},OWNE:{encoding:1,price:"latin1",purchaseDate:"date",seller:"string"},COMR:{encoding:1,price:"latin1",validUntil:"date",contactURL:"latin1",receivedAs:"int8",seller:"string",description:"string",logoMime:"latin1",logo:"binary"},ENCR:{owner:"latin1",methodSymbol:"int8",data:"binary"},GRID:{owner:"latin1",groupSymbol:"int8",data:"binary"},SIGN:{groupSymbol:"int8",signature:"binary"},SEEK:{value:"int32"},ASPI:{dataStart:"int32",dataLength:"int32",numPoints:"int16",bitsPerPoint:"int8",data:"binary"},IPLS:{encoding:1,value:"string"},RVAD:{adjustment:"int8",bits:"int8",data:"binary"},EQUA:{adjustmentBits:"int8",data:"binary"}},names:{TIT1:"grouping",TIT2:"title",TIT3:"subtitle",TALB:"album",TOAL:"originalAlbumTitle",TRCK:"trackNumber",TPOS:"diskNumber",TSST:"setSubtitle",TSRC:"ISRC",TPE1:"artist",TPE2:"albumArtist",TPE3:"conductor",TPE4:"modifiedBy",TOPE:"originalArtist",TEXT:"lyricist",TOLY:"originalLyricist",TCOM:"composer",TMCL:"musicianCreditsList",TIPL:"involvedPeopleList",TENC:"encodedBy",TBPM:"tempo",TLEN:"length",TKEY:"initialKey",TLAN:"language",TCON:"genre",TFLT:"fileType",TMED:"mediaType",TMOO:"mood",TCOP:"copyright",TPRO:"producedNotice",TPUB:"publisher",TOWN:"fileOwner",TRSN:"internetRadioStationName",TRSO:"internetRadioStationOwner",TOFN:"originalFilename",TDLY:"playlistDelay",TDEN:"encodingTime",TDOR:"originalReleaseTime",TDRC:"recordingTime",TDRL:"releaseTime",TDTG:"taggingTime",TSSE:"encodedWith",TSOA:"albumSortOrder",TSOP:"performerSortOrder",TSOT:"titleSortOrder",TXXX:"userText",USLT:"lyrics",APIC:"coverArt",UFID:"uniqueIdentifier",MCDI:"CDIdentifier",COMM:"comments",WCOM:"commercialInformation",WCOP:"copyrightInformation",WOAF:"officialAudioFileWebpage",WOAR:"officialArtistWebpage",WOAS:"officialAudioSourceWebpage",WORS:"officialInternetRadioStationHomepage",WPAY:"payment",WPUB:"officialPublisherWebpage",WXXX:"url",PRIV:"private",GEOB:"generalEncapsulatedObject",PCNT:"playCount",POPM:"rating",AENC:"audioEncryption",ETCO:"eventTimingCodes",MLLT:"MPEGLocationLookupTable",SYTC:"synchronisedTempoCodes",SYLT:"synchronisedLyrics",RVA2:"volumeAdjustment",EQU2:"equalization",RVRB:"reverb",RBUF:"recommendedBufferSize",LINK:"link",POSS:"positionSynchronisation",USER:"termsOfUse",OWNE:"ownership",COMR:"commercial",ENCR:"encryption",GRID:"groupIdentifier",SIGN:"signature",SEEK:"seek",ASPI:"audioSeekPointIndex",TDAT:"date",TIME:"time",TORY:"originalReleaseYear",TRDA:"recordingDates",TSIZ:"size",TYER:"year",IPLS:"involvedPeopleList",RVAD:"volumeAdjustment",EQUA:"equalization",TCMP:"compilation",TSO2:"albumArtistSortOrder",TSOC:"composerSortOrder"}}),exports.ID3v22Stream=exports.ID3v23Stream.extend({readHeader:function(){var id=this.stream.readString(3);return this.frameReplacements[id]&&!this.frameTypes[id]&&(this.frameTypes[id]=this.frameReplacements[id]),{identifier:this.replacements[id]||id,length:this.stream.readUInt24()}},replacements:{UFI:"UFID",TT1:"TIT1",TT2:"TIT2",TT3:"TIT3",TP1:"TPE1",TP2:"TPE2",TP3:"TPE3",TP4:"TPE4",TCM:"TCOM",TXT:"TEXT",TLA:"TLAN",TCO:"TCON",TAL:"TALB",TPA:"TPOS",TRK:"TRCK",TRC:"TSRC",TYE:"TYER",TDA:"TDAT",TIM:"TIME",TRD:"TRDA",TMT:"TMED",TFT:"TFLT",TBP:"TBPM",TCR:"TCOP",TPB:"TPUB",TEN:"TENC",TSS:"TSSE",TOF:"TOFN",TLE:"TLEN",TSI:"TSIZ",TDY:"TDLY",TKE:"TKEY",TOT:"TOAL",TOA:"TOPE",TOL:"TOLY",TOR:"TORY",TXX:"TXXX",WAF:"WOAF",WAR:"WOAR",WAS:"WOAS",WCM:"WCOM",WCP:"WCOP",WPB:"WPUB",WXX:"WXXX",IPL:"IPLS",MCI:"MCDI",ETC:"ETCO",MLL:"MLLT",STC:"SYTC",ULT:"USLT",SLT:"SYLT",COM:"COMM",RVA:"RVAD",EQU:"EQUA",REV:"RVRB",GEO:"GEOB",CNT:"PCNT",POP:"POPM",BUF:"RBUF",CRA:"AENC",LNK:"LINK",TST:"TSOT",TSP:"TSOP",TSA:"TSOA",TCP:"TCMP",TS2:"TSO2",TSC:"TSOC"},frameReplacements:{PIC:{encoding:1,format:"int24",type:"int8",description:"string",data:"binary"},CRM:{owner:"latin1",description:"latin1",data:"binary"}}})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(require,module,exports){function IMDCT(){this.tmp_imdct36=new Float64Array(18),this.tmp_dctIV=new Float64Array(18),this.tmp_sdctII=new Float64Array(9)}IMDCT.prototype.imdct36=function(x,y){var tmp=this.tmp_imdct36;this.dctIV(x,tmp);for(var i=0;i<9;++i)y[i]=tmp[9+i];for(i=9;i<27;++i)y[i]=-tmp[36-(9+i)-1];for(i=27;i<36;++i)y[i]=-tmp[i-27]};var dctIV_scale=[];for(i=0;i<18;i++)dctIV_scale[i]=2*Math.cos(Math.PI*(2*i+1)/72);IMDCT.prototype.dctIV=function(y,X){for(var tmp=this.tmp_dctIV,i=0;i<18;++i)tmp[i]=y[i]*dctIV_scale[i];this.sdctII(tmp,X),X[0]/=2;for(i=1;i<18;++i)X[i]=X[i]/2-X[i-1]};for(var sdctII_scale=[],i=0;i<9;++i)sdctII_scale[i]=2*Math.cos(Math.PI*(2*i+1)/36);IMDCT.prototype.sdctII=function(x,X){for(var tmp=this.tmp_sdctII,i=0;i<9;++i)tmp[i]=x[i]+x[18-i-1];fastsdct(tmp,X,0);for(i=0;i<9;++i)tmp[i]=(x[i]-x[18-i-1])*sdctII_scale[i];fastsdct(tmp,X,1);for(i=3;i<18;i+=2)X[i]-=X[i-2]};var c0=2*Math.cos(1*Math.PI/18),c1=2*Math.cos(3*Math.PI/18),c2=2*Math.cos(4*Math.PI/18),c3=2*Math.cos(5*Math.PI/18),c4=2*Math.cos(7*Math.PI/18),c5=2*Math.cos(8*Math.PI/18),c6=2*Math.cos(16*Math.PI/18);function fastsdct(x,y,offset){var a0,a1,a2,a3,a4,a5,a6,a7,a12,a18,a19,a20,a21,a22,a23,a24,a25,m0,m1,m2,m3,m4,m5,m6,m7;a0=x[3]+x[5],a1=x[3]-x[5],a2=x[6]+x[2],a3=x[6]-x[2],a4=x[1]+x[7],a5=x[1]-x[7],a6=x[8]+x[0],a7=x[8]-x[0],a12=a0+a2+a6,m0=(a1+a3)*-c3,m1=(a1-a7)*-c0,m2=(a3+a7)*-c4,m3=(a1-a3+a7)*-c1,m4=a5*-c1,m5=(a2-a6)*-c6,m6=(a0-a6)*-c5,m7=(a0-a2)*-c2,a18=x[4]+a4,a20=(a19=2*x[4]-a4)+m5,a21=a19-m5,a22=a19+m6,a23=m4+m2,a24=m4-m2,a25=m4+m1,y[offset+0]=a18+a12,y[offset+2]=m0-a25,y[offset+4]=m7-a20,y[offset+6]=m3,y[offset+8]=a21-m6,y[offset+10]=a24-m1,y[offset+12]=a12-2*a18,y[offset+14]=a23+m0,y[offset+16]=a22+m7}IMDCT.S=[[.608761429,-.923879533,-.130526192,.991444861,-.382683432,-.79335334],[-.79335334,.382683432,.991444861,.130526192,-.923879533,-.608761429],[.382683432,-.923879533,.923879533,-.382683432,-.382683432,.923879533],[-.923879533,-.382683432,.382683432,.923879533,.923879533,.382683432],[.130526192,-.382683432,.608761429,-.79335334,.923879533,-.991444861],[-.991444861,-.923879533,-.79335334,-.608761429,-.382683432,-.130526192]],module.exports=IMDCT},{}],9:[function(require,module,exports){var tables=require("./tables"),MP3FrameHeader=require("./header"),MP3Frame=require("./frame"),utils=require("./utils");function Layer1(){this.allocation=utils.makeArray([2,32],Uint8Array),this.scalefactor=utils.makeArray([2,32],Uint8Array)}MP3Frame.layers[1]=Layer1;var LINEAR_TABLE=new Float32Array([1.33333333333333,1.14285714285714,1.06666666666667,1.03225806451613,1.01587301587302,1.00787401574803,1.00392156862745,1.00195694716243,1.00097751710655,1.00048851978505,1.0002442002442,1.00012208521548,1.00006103888177,1.00003051850948]);Layer1.prototype.decode=function(stream,frame){var header=frame.header,nch=header.nchannels(),bound=32;header.mode===MP3FrameHeader.MODE.JOINT_STEREO&&(header.flags|=MP3FrameHeader.FLAGS.I_STEREO,bound=4+4*header.mode_extension),header.flags,MP3FrameHeader.FLAGS.PROTECTION;for(var allocation=this.allocation,sb=0;sb<bound;sb++)for(var ch=0;ch<nch;ch++){if(15===(nb=stream.read(4)))throw new Error("forbidden bit allocation value");allocation[ch][sb]=nb?nb+1:0}for(sb=bound;sb<32;sb++){if(15===(nb=stream.read(4)))throw new Error("forbidden bit allocation value");allocation[0][sb]=allocation[1][sb]=nb?nb+1:0}var scalefactor=this.scalefactor;for(sb=0;sb<32;sb++)for(ch=0;ch<nch;ch++)allocation[ch][sb]&&(scalefactor[ch][sb]=stream.read(6));for(var s=0;s<12;s++){for(sb=0;sb<bound;sb++)for(ch=0;ch<nch;ch++){var nb=allocation[ch][sb];frame.sbsample[ch][s][sb]=nb?this.sample(stream,nb)*tables.SF_TABLE[scalefactor[ch][sb]]:0}for(sb=bound;sb<32;sb++){if(nb=allocation[0][sb]){var sample=this.sample(stream,nb);for(ch=0;ch<nch;ch++)frame.sbsample[ch][s][sb]=sample*tables.SF_TABLE[scalefactor[ch][sb]]}else for(ch=0;ch<nch;ch++)frame.sbsample[ch][s][sb]=0}}},Layer1.prototype.sample=function(stream,nb){var sample=stream.read(nb);return sample^=1<<nb-1,sample|=-(sample&1<<nb-1),sample/=1<<nb-1,(sample+=1>>nb-1)*LINEAR_TABLE[nb-2]},module.exports=Layer1},{"./frame":4,"./header":5,"./tables":14,"./utils":15}],10:[function(require,module,exports){var tables=require("./tables"),MP3FrameHeader=require("./header"),MP3Frame=require("./frame"),utils=require("./utils");function Layer2(){this.samples=new Float64Array(3),this.allocation=utils.makeArray([2,32],Uint8Array),this.scfsi=utils.makeArray([2,32],Uint8Array),this.scalefactor=utils.makeArray([2,32,3],Uint8Array)}MP3Frame.layers[2]=Layer2;var SBQUANT=[{sblimit:27,offsets:[7,7,7,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0]},{sblimit:30,offsets:[7,7,7,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0]},{sblimit:8,offsets:[5,5,2,2,2,2,2,2]},{sblimit:12,offsets:[5,5,2,2,2,2,2,2,2,2,2,2]},{sblimit:30,offsets:[4,4,4,4,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}],BITALLOC=[{nbal:2,offset:0},{nbal:2,offset:3},{nbal:3,offset:3},{nbal:3,offset:1},{nbal:4,offset:2},{nbal:4,offset:3},{nbal:4,offset:4},{nbal:4,offset:5}],OFFSETS=[[0,1,16],[0,1,2,3,4,5,16],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,16],[0,2,4,5,6,7,8,9,10,11,12,13,14,15,16]],QC_TABLE=[{nlevels:3,group:2,bits:5,C:1.33333333333,D:.5},{nlevels:5,group:3,bits:7,C:1.6,D:.5},{nlevels:7,group:0,bits:3,C:1.14285714286,D:.25},{nlevels:9,group:4,bits:10,C:1.77777777777,D:.5},{nlevels:15,group:0,bits:4,C:1.06666666666,D:.125},{nlevels:31,group:0,bits:5,C:1.03225806452,D:.0625},{nlevels:63,group:0,bits:6,C:1.01587301587,D:.03125},{nlevels:127,group:0,bits:7,C:1.00787401575,D:.015625},{nlevels:255,group:0,bits:8,C:1.00392156863,D:.0078125},{nlevels:511,group:0,bits:9,C:1.00195694716,D:.00390625},{nlevels:1023,group:0,bits:10,C:1.00097751711,D:.001953125},{nlevels:2047,group:0,bits:11,C:1.00048851979,D:.0009765625},{nlevels:4095,group:0,bits:12,C:1.00024420024,D:.00048828125},{nlevels:8191,group:0,bits:13,C:1.00012208522,D:.00024414063},{nlevels:16383,group:0,bits:14,C:1.00006103888,D:.00012207031},{nlevels:32767,group:0,bits:15,C:1.00003051851,D:6103516e-11},{nlevels:65535,group:0,bits:16,C:1.00001525902,D:3051758e-11}];Layer2.prototype.decode=function(stream,frame){var index,header=frame.header,nch=header.nchannels();if(header.flags&MP3FrameHeader.FLAGS.LSF_EXT)index=4;else if(header.flags&MP3FrameHeader.FLAGS.FREEFORMAT)index=48e3===header.samplerate?0:1;else{var bitrate_per_channel=header.bitrate;if(2===nch)bitrate_per_channel/=2;else if(192e3<bitrate_per_channel)throw new Error("bad bitrate/mode combination");index=bitrate_per_channel<=48e3?32e3===header.samplerate?3:2:bitrate_per_channel<=8e4?0:48e3===header.samplerate?0:1}var sblimit=SBQUANT[index].sblimit,offsets=SBQUANT[index].offsets,bound=32;header.mode===MP3FrameHeader.MODE.JOINT_STEREO&&(header.flags|=MP3FrameHeader.FLAGS.I_STEREO,bound=4+4*header.mode_extension),sblimit<bound&&(bound=sblimit);for(var allocation=this.allocation,sb=0;sb<bound;sb++)for(var nbal=BITALLOC[offsets[sb]].nbal,ch=0;ch<nch;ch++)allocation[ch][sb]=stream.read(nbal);for(sb=bound;sb<sblimit;sb++){nbal=BITALLOC[offsets[sb]].nbal;allocation[0][sb]=allocation[1][sb]=stream.read(nbal)}var scfsi=this.scfsi;for(sb=0;sb<sblimit;sb++)for(ch=0;ch<nch;ch++)allocation[ch][sb]&&(scfsi[ch][sb]=stream.read(2));header.flags,MP3FrameHeader.FLAGS.PROTECTION;var scalefactor=this.scalefactor;for(sb=0;sb<sblimit;sb++)for(ch=0;ch<nch;ch++)if(allocation[ch][sb]){switch(scalefactor[ch][sb][0]=stream.read(6),scfsi[ch][sb]){case 2:scalefactor[ch][sb][2]=scalefactor[ch][sb][1]=scalefactor[ch][sb][0];break;case 0:scalefactor[ch][sb][1]=stream.read(6);case 1:case 3:scalefactor[ch][sb][2]=stream.read(6)}1&scfsi[ch][sb]&&(scalefactor[ch][sb][1]=scalefactor[ch][sb][scfsi[ch][sb]-1])}for(var gr=0;gr<12;gr++){for(sb=0;sb<bound;sb++)for(ch=0;ch<nch;ch++)if(index=allocation[ch][sb]){index=OFFSETS[BITALLOC[offsets[sb]].offset][index-1],this.decodeSamples(stream,QC_TABLE[index]);for(var scale=tables.SF_TABLE[scalefactor[ch][sb][gr>>2]],s=0;s<3;s++)frame.sbsample[ch][3*gr+s][sb]=this.samples[s]*scale}else for(s=0;s<3;s++)frame.sbsample[ch][3*gr+s][sb]=0;for(sb=bound;sb<sblimit;sb++)if(index=allocation[0][sb]){index=OFFSETS[BITALLOC[offsets[sb]].offset][index-1],this.decodeSamples(stream,QC_TABLE[index]);for(ch=0;ch<nch;ch++)for(scale=tables.SF_TABLE[scalefactor[ch][sb][gr>>2]],s=0;s<3;s++)frame.sbsample[ch][3*gr+s][sb]=this.samples[s]*scale}else for(ch=0;ch<nch;ch++)for(s=0;s<3;s++)frame.sbsample[ch][3*gr+s][sb]=0;for(ch=0;ch<nch;ch++)for(s=0;s<3;s++)for(sb=sblimit;sb<32;sb++)frame.sbsample[ch][3*gr+s][sb]=0}},Layer2.prototype.decodeSamples=function(stream,quantclass){var sample=this.samples,nb=quantclass.group;if(nb)for(var c=stream.read(quantclass.bits),nlevels=quantclass.nlevels,s=0;s<3;s++)sample[s]=c%nlevels,c=c/nlevels|0;else{nb=quantclass.bits;for(s=0;s<3;s++)sample[s]=stream.read(nb)}for(s=0;s<3;s++){var requantized=sample[s]^1<<nb-1;requantized|=-(requantized&1<<nb-1),requantized/=1<<nb-1,sample[s]=(requantized+quantclass.D)*quantclass.C}},module.exports=Layer2},{"./frame":4,"./header":5,"./tables":14,"./utils":15}],11:[function(require,module,exports){(function(global){var AV="undefined"!=typeof window?window.AV:void 0!==global?global.AV:null,tables=require("./tables"),MP3FrameHeader=require("./header"),MP3Frame=require("./frame"),huffman=require("./huffman"),IMDCT=require("./imdct"),utils=require("./utils");function MP3SideInfo(){this.main_data_begin=null,this.private_bits=null,this.gr=[new MP3Granule,new MP3Granule],this.scfsi=new Uint8Array(2)}function MP3Granule(){this.ch=[new MP3Channel,new MP3Channel]}function MP3Channel(){this.part2_3_length=null,this.big_values=null,this.global_gain=null,this.scalefac_compress=null,this.flags=null,this.block_type=null,this.table_select=new Uint8Array(3),this.subblock_gain=new Uint8Array(3),this.region0_count=null,this.region1_count=null,this.scalefac=new Uint8Array(39)}function Layer3(){this.imdct=new IMDCT,this.si=new MP3SideInfo,this.xr=[new Float64Array(576),new Float64Array(576)],this._exponents=new Int32Array(39),this.reqcache=new Float64Array(16),this.modes=new Int16Array(39),this.output=new Float64Array(36),this.tmp=utils.makeArray([32,3,6]),this.tmp2=new Float64Array(576)}(MP3Frame.layers[3]=Layer3).prototype.decode=function(stream,frame){var header=frame.header,next_md_begin=0,nch=header.nchannels(),si_len=header.flags&MP3FrameHeader.FLAGS.LSF_EXT?1===nch?9:17:1===nch?17:32;if(stream.next_frame-stream.nextByte()<si_len)throw stream.md_len=0,new Error("Bad frame length");header.flags,MP3FrameHeader.FLAGS.PROTECTION;var sideInfo=this.sideInfo(stream,nch,header.flags&MP3FrameHeader.FLAGS.LSF_EXT),si=sideInfo.si,priv_bitlen=(sideInfo.data_bitlen,sideInfo.priv_bitlen);header.flags|=priv_bitlen,header.private_bits|=si.private_bits;var peek=stream.copy();peek.seek(8*stream.next_frame);var nextHeader=peek.read(16);65506==(65510&nextHeader)&&(0==(1&nextHeader)&&peek.advance(16),peek.advance(16),next_md_begin=peek.read(8&nextHeader?9:8));var frame_space=stream.next_frame-stream.nextByte();next_md_begin>si.main_data_begin+frame_space&&(next_md_begin=0);var ptr,md_len=si.main_data_begin+frame_space-next_md_begin,frame_used=0;if(0===si.main_data_begin)ptr=stream.stream,stream.md_len=0,frame_used=md_len;else{if(si.main_data_begin>stream.md_len)throw new Error("bad main_data_begin pointer");var old_md_len=stream.md_len;if(md_len>si.main_data_begin){if(stream.md_len+md_len-si.main_data_begin>MP3FrameHeader.BUFFER_MDLEN)throw new Error("Assertion failed: (stream.md_len + md_len - si.main_data_begin <= MAD_MP3FrameHeader.BUFFER_MDLEN)");frame_used=md_len-si.main_data_begin,this.memcpy(stream.main_data,stream.md_len,stream.stream.stream,stream.nextByte(),frame_used),stream.md_len+=frame_used}(ptr=new AV.Bitstream(AV.Stream.fromBuffer(new AV.Buffer(stream.main_data)))).advance(8*(old_md_len-si.main_data_begin))}var frame_free=frame_space-frame_used;if(this.decodeMainData(ptr,frame,si,nch),next_md_begin<=frame_free)this.memcpy(stream.main_data,0,stream.stream.stream,stream.next_frame-next_md_begin,next_md_begin),stream.md_len=next_md_begin;else{if(md_len<si.main_data_begin){var extra=si.main_data_begin-md_len;next_md_begin<extra+frame_free&&(extra=next_md_begin-frame_free),extra<stream.md_len&&(this.memcpy(stream.main_data,0,stream.main_data,stream.md_len-extra,extra),stream.md_len=extra)}else stream.md_len=0;this.memcpy(stream.main_data,stream.md_len,stream.stream.stream,stream.next_frame-frame_free,frame_free),stream.md_len+=frame_free}},Layer3.prototype.memcpy=function(dst,dstOffset,pSrc,srcOffset,length){var subarr;return subarr=pSrc.subarray?pSrc.subarray(srcOffset,srcOffset+length):pSrc.peekBuffer(srcOffset-pSrc.offset,length).data,dst.set(subarr,dstOffset),dst},Layer3.prototype.sideInfo=function(stream,nch,lsf){var si=this.si,data_bitlen=0,priv_bitlen=lsf?1===nch?1:2:1===nch?5:3;si.main_data_begin=stream.read(lsf?8:9),si.private_bits=stream.read(priv_bitlen);var ngr=1;if(!lsf){ngr=2;for(var ch=0;ch<nch;++ch)si.scfsi[ch]=stream.read(4)}for(var gr=0;gr<ngr;gr++){var granule=si.gr[gr];for(ch=0;ch<nch;ch++){var channel=granule.ch[ch];if(channel.part2_3_length=stream.read(12),channel.big_values=stream.read(9),channel.global_gain=stream.read(8),channel.scalefac_compress=stream.read(lsf?9:4),data_bitlen+=channel.part2_3_length,288<channel.big_values)throw new Error("bad big_values count");if(channel.flags=0,stream.read(1)){if(channel.block_type=stream.read(2),0===channel.block_type)throw new Error("reserved block_type");if(!lsf&&2===channel.block_type&&si.scfsi[ch])throw new Error("bad scalefactor selection info");channel.region0_count=7,channel.region1_count=36,stream.read(1)?channel.flags|=tables.MIXED_BLOCK_FLAG:2===channel.block_type&&(channel.region0_count=8);for(var i=0;i<2;i++)channel.table_select[i]=stream.read(5);for(i=0;i<3;i++)channel.subblock_gain[i]=stream.read(3)}else{for(i=channel.block_type=0;i<3;i++)channel.table_select[i]=stream.read(5);channel.region0_count=stream.read(4),channel.region1_count=stream.read(3)}channel.flags|=stream.read(lsf?2:3)}}return{si:si,data_bitlen:data_bitlen,priv_bitlen:priv_bitlen}},Layer3.prototype.decodeMainData=function(stream,frame,si,nch){var header=frame.header,sfreq=header.samplerate;header.flags&MP3FrameHeader.FLAGS.MPEG_2_5_EXT&&(sfreq*=2);var sfreqi=(sfreq>>7&15)+(sfreq>>15&1)-8;header.flags&MP3FrameHeader.FLAGS.MPEG_2_5_EXT&&(sfreqi+=3);for(var ngr=header.flags&MP3FrameHeader.FLAGS.LSF_EXT?1:2,xr=this.xr,gr=0;gr<ngr;++gr){for(var granule=si.gr[gr],sfbwidth=[],l=0,ch=0;ch<nch;++ch){var part2_length,channel=granule.ch[ch];sfbwidth[ch]=tables.SFBWIDTH_TABLE[sfreqi].l,2===channel.block_type&&(sfbwidth[ch]=channel.flags&tables.MIXED_BLOCK_FLAG?tables.SFBWIDTH_TABLE[sfreqi].m:tables.SFBWIDTH_TABLE[sfreqi].s),part2_length=header.flags&MP3FrameHeader.FLAGS.LSF_EXT?this.scalefactors_lsf(stream,channel,0===ch?0:si.gr[1].ch[1],header.mode_extension):this.scalefactors(stream,channel,si.gr[0].ch[ch],0===gr?0:si.scfsi[ch]),this.huffmanDecode(stream,xr[ch],channel,sfbwidth[ch],part2_length)}header.mode===MP3FrameHeader.MODE.JOINT_STEREO&&0!==header.mode_extension&&this.stereo(xr,si.gr,gr,header,sfbwidth[0]);for(ch=0;ch<nch;ch++){channel=granule.ch[ch];var sblimit,sample=frame.sbsample[ch].slice(18*gr),output=(l=0,this.output);if(2===channel.block_type?(this.reorder(xr[ch],channel,sfbwidth[ch]),channel.flags&tables.MIXED_BLOCK_FLAG&&this.aliasreduce(xr[ch],36)):this.aliasreduce(xr[ch],576),2!==channel.block_type||channel.flags&tables.MIXED_BLOCK_FLAG){var block_type=channel.block_type;channel.flags&tables.MIXED_BLOCK_FLAG&&(block_type=0);for(var sb=0;sb<2;++sb,l+=18)this.imdct_l(xr[ch].subarray(l,l+18),output,block_type),this.overlap(output,frame.overlap[ch][sb],sample,sb)}else for(sb=0;sb<2;++sb,l+=18)this.imdct_s(xr[ch].subarray(l,l+18),output),this.overlap(output,frame.overlap[ch][sb],sample,sb);this.freqinver(sample,1);for(var i=576;36<i&&0===xr[ch][i-1];)--i;if(sblimit=32-((576-i)/18<<0),2!==channel.block_type)for(sb=2;sb<sblimit;++sb,l+=18)this.imdct_l(xr[ch].subarray(l,l+18),output,channel.block_type),this.overlap(output,frame.overlap[ch][sb],sample,sb),1&sb&&this.freqinver(sample,sb);else for(sb=2;sb<sblimit;++sb,l+=18)this.imdct_s(xr[ch].subarray(l,l+18),output),this.overlap(output,frame.overlap[ch][sb],sample,sb),1&sb&&this.freqinver(sample,sb);for(sb=sblimit;sb<32;++sb)this.overlap_z(frame.overlap[ch][sb],sample,sb),1&sb&&this.freqinver(sample,sb)}}},Layer3.prototype.scalefactors=function(stream,channel,gr0ch,scfsi){var start=stream.offset(),slen1=tables.SFLEN_TABLE[channel.scalefac_compress].slen1,slen2=tables.SFLEN_TABLE[channel.scalefac_compress].slen2;if(2===channel.block_type){sfbi=0;for(var nsfb=channel.flags&tables.MIXED_BLOCK_FLAG?17:18;nsfb--;)channel.scalefac[sfbi++]=stream.read(slen1);for(nsfb=18;nsfb--;)channel.scalefac[sfbi++]=stream.read(slen2);for(nsfb=3;nsfb--;)channel.scalefac[sfbi++]=0}else{if(8&scfsi)for(var sfbi=0;sfbi<6;++sfbi)channel.scalefac[sfbi]=gr0ch.scalefac[sfbi];else for(sfbi=0;sfbi<6;++sfbi)channel.scalefac[sfbi]=stream.read(slen1);if(4&scfsi)for(sfbi=6;sfbi<11;++sfbi)channel.scalefac[sfbi]=gr0ch.scalefac[sfbi];else for(sfbi=6;sfbi<11;++sfbi)channel.scalefac[sfbi]=stream.read(slen1);if(2&scfsi)for(sfbi=11;sfbi<16;++sfbi)channel.scalefac[sfbi]=gr0ch.scalefac[sfbi];else for(sfbi=11;sfbi<16;++sfbi)channel.scalefac[sfbi]=stream.read(slen2);if(1&scfsi)for(sfbi=16;sfbi<21;++sfbi)channel.scalefac[sfbi]=gr0ch.scalefac[sfbi];else for(sfbi=16;sfbi<21;++sfbi)channel.scalefac[sfbi]=stream.read(slen2);channel.scalefac[21]=0}return stream.offset()-start},Layer3.prototype.scalefactors_lsf=function(stream,channel,gr1ch,mode_extension){var nsfb,start=stream.offset(),scalefac_compress=channel.scalefac_compress,index=2===channel.block_type?channel.flags&tables.MIXED_BLOCK_FLAG?2:1:0,slen=new Int32Array(4);if(mode_extension&tables.I_STEREO&&gr1ch){nsfb=(scalefac_compress>>>=1)<180?(slen[0]=scalefac_compress/36,slen[1]=scalefac_compress%36/6,slen[2]=scalefac_compress%36%6,slen[3]=0,tables.NSFB_TABLE[3][index]):scalefac_compress<244?(scalefac_compress-=180,slen[0]=scalefac_compress%64>>>4,slen[1]=scalefac_compress%16>>>2,slen[2]=scalefac_compress%4,slen[3]=0,tables.NSFB_TABLE[4][index]):(scalefac_compress-=244,slen[0]=scalefac_compress/3,slen[1]=scalefac_compress%3,slen[2]=0,slen[3]=0,tables.NSFB_TABLE[5][index]);for(n=0,part=0;part<4;++part){var max=(1<<slen[part])-1;for(i=0;i<nsfb[part];++i){var is_pos=stream.read(slen[part]);channel.scalefac[n]=is_pos,gr1ch.scalefac[n++]=is_pos===max?1:0}}for(;n<39;)channel.scalefac[n]=0,gr1ch.scalefac[n++]=0}else{nsfb=scalefac_compress<400?(slen[0]=(scalefac_compress>>>4)/5,slen[1]=(scalefac_compress>>>4)%5,slen[2]=scalefac_compress%16>>>2,slen[3]=scalefac_compress%4,tables.NSFB_TABLE[0][index]):scalefac_compress<500?(scalefac_compress-=400,slen[0]=(scalefac_compress>>>2)/5,slen[1]=(scalefac_compress>>>2)%5,slen[2]=scalefac_compress%4,slen[3]=0,tables.NSFB_TABLE[1][index]):(scalefac_compress-=500,slen[0]=scalefac_compress/3,slen[1]=scalefac_compress%3,slen[2]=0,slen[3]=0,channel.flags|=tables.PREFLAG,tables.NSFB_TABLE[2][index]);for(var n=0,part=0;part<4;part++)for(var i=0;i<nsfb[part];i++)channel.scalefac[n++]=stream.read(slen[part]);for(;n<39;)channel.scalefac[n++]=0}return stream.offset()-start},Layer3.prototype.huffmanDecode=function(stream,xr,channel,sfbwidth,part2_length){var exponents=this._exponents,sfbwidthptr=0,bits_left=channel.part2_3_length-part2_length;if(bits_left<0)throw new Error("bad audio data length");this.exponents(channel,sfbwidth,exponents);var peek=stream.copy();stream.advance(bits_left);var cachesz=8-peek.bitPosition;cachesz+=24-cachesz+7&-8;var bitcache=peek.read(cachesz);bits_left-=cachesz;var xrptr=0,region=0,reqcache=this.reqcache,sfbound=xrptr+sfbwidth[sfbwidthptr++],rcount=channel.region0_count+1,entry=huffman.huff_pair_table[channel.table_select[region]],table=entry.table,linbits=entry.linbits,startbits=entry.startbits;if(void 0===table)throw new Error("bad Huffman table select");for(var expptr=0,exp=exponents[expptr++],reqhits=0,big_values=channel.big_values;big_values--&&0<cachesz+bits_left;){if(xrptr===sfbound){if(sfbound+=sfbwidth[sfbwidthptr++],0==--rcount&&(rcount=0===region?channel.region1_count+1:0,table=(entry=huffman.huff_pair_table[channel.table_select[++region]]).table,linbits=entry.linbits,startbits=entry.startbits,void 0===table))throw new Error("bad Huffman table select");exp!==exponents[expptr]&&(exp=exponents[expptr],reqhits=0),++expptr}if(cachesz<21){var bits=21-cachesz+10&-8;bitcache=bitcache<<bits|peek.read(bits),cachesz+=bits,bits_left-=bits}for(var clumpsz=startbits,pair=table[bitcache>>cachesz-clumpsz&(1<<clumpsz)-1];!pair.final;)cachesz-=clumpsz,clumpsz=pair.ptr.bits,pair=table[pair.ptr.offset+(bitcache>>cachesz-clumpsz&(1<<clumpsz)-1)];if(cachesz-=pair.value.hlen,linbits){var x_final=!1;switch(value=pair.value.x){case 0:xr[xrptr]=0;break;case 15:cachesz<linbits+2&&(bitcache=bitcache<<16|peek.read(16),cachesz+=16,bits_left-=16),value+=bitcache>>cachesz-linbits&(1<<linbits)-1,cachesz-=linbits,requantized=this.requantize(value,exp),x_final=!0;break;default:requantized=reqhits&1<<value?reqcache[value]:(reqhits|=1<<value,reqcache[value]=this.requantize(value,exp)),x_final=!0}x_final&&(xr[xrptr]=bitcache&1<<cachesz---1?-requantized:requantized);var y_final=!1;switch(value=pair.value.y){case 0:xr[xrptr+1]=0;break;case 15:cachesz<linbits+1&&(bitcache=bitcache<<16|peek.read(16),cachesz+=16,bits_left-=16),value+=bitcache>>cachesz-linbits&(1<<linbits)-1,cachesz-=linbits,requantized=this.requantize(value,exp),y_final=!0;break;default:requantized=(reqhits&1<<value||(reqhits|=1<<value,reqcache[value]=this.requantize(value,exp)),reqcache[value]),y_final=!0}y_final&&(xr[xrptr+1]=bitcache&1<<cachesz---1?-requantized:requantized)}else{var value;0===(value=pair.value.x)?xr[xrptr]=0:(requantized=reqhits&1<<value?reqcache[value]:(reqhits|=1<<value,reqcache[value]=this.requantize(value,exp)),xr[xrptr]=bitcache&1<<cachesz---1?-requantized:requantized),0===(value=pair.value.y)?xr[xrptr+1]=0:(requantized=reqhits&1<<value?reqcache[value]:(reqhits|=1<<value,reqcache[value]=this.requantize(value,exp)),xr[xrptr+1]=bitcache&1<<cachesz---1?-requantized:requantized)}xrptr+=2}if(cachesz+bits_left<0)throw new Error("Huffman data overrun");table=huffman.huff_quad_table[channel.flags&tables.COUNT1TABLE_SELECT];for(var requantized=this.requantize(1,exp);0<cachesz+bits_left&&xrptr<=572;){cachesz<10&&(bitcache=bitcache<<16|peek.read(16),cachesz+=16,bits_left-=16);var quad=table[bitcache>>cachesz-4&15];quad.final||(cachesz-=4,quad=table[quad.ptr.offset+(bitcache>>cachesz-quad.ptr.bits&(1<<quad.ptr.bits)-1)]),cachesz-=quad.value.hlen,xrptr===sfbound&&(sfbound+=sfbwidth[sfbwidthptr++],exp!==exponents[expptr]&&(exp=exponents[expptr],requantized=this.requantize(1,exp)),++expptr),xr[xrptr]=quad.value.v?bitcache&1<<cachesz---1?-requantized:requantized:0,xr[xrptr+1]=quad.value.w?bitcache&1<<cachesz---1?-requantized:requantized:0,(xrptr+=2)===sfbound&&(sfbound+=sfbwidth[sfbwidthptr++],exp!==exponents[expptr]&&(exp=exponents[expptr],requantized=this.requantize(1,exp)),++expptr),xr[xrptr]=quad.value.x?bitcache&1<<cachesz---1?-requantized:requantized:0,xr[xrptr+1]=quad.value.y?bitcache&1<<cachesz---1?-requantized:requantized:0,xrptr+=2,cachesz+bits_left<0&&(xrptr-=4)}if(-bits_left>8*MP3FrameHeader.BUFFER_GUARD)throw new Error("assertion failed: (-bits_left <= MP3FrameHeader.BUFFER_GUARD * CHAR_BIT)");for(;xrptr<576;)xr[xrptr]=0,xr[xrptr+1]=0,xrptr+=2},Layer3.prototype.requantize=function(value,exp){var frac=exp%4>>0;exp=exp/4>>0;var requantized=Math.pow(value,4/3);return requantized*=Math.pow(2,exp/4),frac&&(requantized*=Math.pow(2,frac/4)),exp<0&&(requantized/=Math.pow(2,.75*-exp)),requantized},Layer3.prototype.exponents=function(channel,sfbwidth,exponents){var gain=channel.global_gain-210,scalefac_multiplier=channel.flags&tables.SCALEFAC_SCALE?2:1;if(2===channel.block_type){var sfbi=0,l=0;if(channel.flags&tables.MIXED_BLOCK_FLAG)for(var premask=channel.flags&tables.PREFLAG?-1:0;l<36;)exponents[sfbi]=gain-(channel.scalefac[sfbi]+(tables.PRETAB[sfbi]&premask)<<scalefac_multiplier),l+=sfbwidth[sfbi++];for(var gain0=gain-8*channel.subblock_gain[0],gain1=gain-8*channel.subblock_gain[1],gain2=gain-8*channel.subblock_gain[2];l<576;)exponents[sfbi+0]=gain0-(channel.scalefac[sfbi+0]<<scalefac_multiplier),exponents[sfbi+1]=gain1-(channel.scalefac[sfbi+1]<<scalefac_multiplier),exponents[sfbi+2]=gain2-(channel.scalefac[sfbi+2]<<scalefac_multiplier),l+=3*sfbwidth[sfbi],sfbi+=3}else if(channel.flags&tables.PREFLAG)for(sfbi=0;sfbi<22;sfbi++)exponents[sfbi]=gain-(channel.scalefac[sfbi]+tables.PRETAB[sfbi]<<scalefac_multiplier);else for(sfbi=0;sfbi<22;sfbi++)exponents[sfbi]=gain-(channel.scalefac[sfbi]<<scalefac_multiplier)},Layer3.prototype.stereo=function(xr,granules,gr,header,sfbwidth){var sfbi,l,n,granule=granules[gr],modes=this.modes;if(granule.ch[0].block_type!==granule.ch[1].block_type||(granule.ch[0].flags&tables.MIXED_BLOCK_FLAG)!=(granule.ch[1].flags&tables.MIXED_BLOCK_FLAG))throw new Error("incompatible stereo block_type");for(var i=0;i<39;i++)modes[i]=header.mode_extension;if(header.mode_extension&tables.I_STEREO){var right_ch=granule.ch[1],right_xr=xr[1];if(header.flags|=MP3FrameHeader.FLAGS.I_STEREO,2===right_ch.block_type){var lower,start,max;if(lower=start=max=(bound=new Uint32Array(3))[0]=bound[1]=bound[2]=0,sfbi=l=0,right_ch.flags&tables.MIXED_BLOCK_FLAG){for(;l<36;){n=sfbwidth[sfbi++];for(i=0;i<n;++i)if(right_xr[i]){lower=sfbi;break}right_xr+=n,l+=n}start=sfbi}for(var w=0;l<576;){for(n=sfbwidth[sfbi++],i=0;i<n;++i)if(right_xr[i]){max=bound[w]=sfbi;break}right_xr+=n,l+=n,w=(w+1)%3}for(max&&(lower=start),i=0;i<lower;++i)modes[i]=header.mode_extension&~tables.I_STEREO;for(w=0,i=start;i<max;++i)i<bound[w]&&(modes[i]=header.mode_extension&~tables.I_STEREO),w=(w+1)%3}else{var bound=0;for(sfbi=l=0;l<576;l+=n){for(n=sfbwidth[sfbi++],i=0;i<n;++i)if(right_xr[i]){bound=sfbi;break}right_xr+=n}for(i=0;i<bound;++i)modes[i]=header.mode_extension&~tables.I_STEREO}if(header.flags&MP3FrameHeader.FLAGS.LSF_EXT){var illegal_pos=granules[gr+1].ch[1].scalefac,lsf_scale=IS_Ltables.SF_TABLE[1&right_ch.scalefac_compress];for(sfbi=l=0;l<576;++sfbi,l+=n)if(n=sfbwidth[sfbi],modes[sfbi]&tables.I_STEREO)if(illegal_pos[sfbi])modes[sfbi]&=~tables.I_STEREO;else for(is_pos=right_ch.scalefac[sfbi],i=0;i<n;++i){var left=xr[0][l+i];if(0===is_pos)xr[1][l+i]=left;else{var opposite=left*lsf_scale[(is_pos-1)/2];1&is_pos?(xr[0][l+i]=opposite,xr[1][l+i]=left):xr[1][l+i]=opposite}}}else for(sfbi=l=0;l<576;++sfbi,l+=n)if(n=sfbwidth[sfbi],modes[sfbi]&tables.I_STEREO)if(is_pos=right_ch.scalefac[sfbi],7<=is_pos)modes[sfbi]&=~tables.I_STEREO;else for(i=0;i<n;++i){left=xr[0][l+i];xr[0][l+i]=left*tables.IS_TABLE[is_pos],xr[1][l+i]=left*tables.IS_TABLE[6-is_pos]}}if(header.mode_extension&tables.MS_STEREO){header.flags|=tables.MS_STEREO;var invsqrt2=tables.ROOT_TABLE[1];for(sfbi=l=0;l<576;++sfbi,l+=n)if(n=sfbwidth[sfbi],modes[sfbi]===tables.MS_STEREO)for(i=0;i<n;++i){var m=xr[0][l+i],s=xr[1][l+i];xr[0][l+i]=(m+s)*invsqrt2,xr[1][l+i]=(m-s)*invsqrt2}}},Layer3.prototype.aliasreduce=function(xr,lines){for(var xrPointer=18;xrPointer<lines;xrPointer+=18)for(var i=0;i<8;++i){var a=xr[xrPointer-i-1],b=xr[xrPointer+i];xr[xrPointer-i-1]=a*tables.CS[i]-b*tables.CA[i],xr[xrPointer+i]=b*tables.CS[i]+a*tables.CA[i]}},Layer3.prototype.imdct_l=function(X,z,block_type){switch(this.imdct.imdct36(X,z),block_type){case 0:for(var i=0;i<36;++i)z[i]=z[i]*tables.WINDOW_L[i];break;case 1:for(i=0;i<18;++i)z[i]=z[i]*tables.WINDOW_L[i];for(i=24;i<30;++i)z[i]=z[i]*tables.WINDOW_S[i-18];for(i=30;i<36;++i)z[i]=0;break;case 3:for(i=0;i<6;++i)z[i]=0;for(i=6;i<12;++i)z[i]=z[i]*tables.WINDOW_S[i-6];for(i=18;i<36;++i)z[i]=z[i]*tables.WINDOW_L[i]}},Layer3.prototype.imdct_s=function(X,z){for(var lo,yptr=0,Xptr=0,y=new Float64Array(36),w=0;w<3;++w){for(var sptr=0,i=0;i<3;++i)lo=X[Xptr+0]*IMDCT.S[sptr][0]+X[Xptr+1]*IMDCT.S[sptr][1]+X[Xptr+2]*IMDCT.S[sptr][2]+X[Xptr+3]*IMDCT.S[sptr][3]+X[Xptr+4]*IMDCT.S[sptr][4]+X[Xptr+5]*IMDCT.S[sptr][5],y[yptr+i+0]=lo,y[yptr+5-i]=-y[yptr+i+0],++sptr,lo=X[Xptr+0]*IMDCT.S[sptr][0]+X[Xptr+1]*IMDCT.S[sptr][1]+X[Xptr+2]*IMDCT.S[sptr][2]+X[Xptr+3]*IMDCT.S[sptr][3]+X[Xptr+4]*IMDCT.S[sptr][4]+X[Xptr+5]*IMDCT.S[sptr][5],y[yptr+i+6]=lo,y[yptr+11-i]=y[yptr+i+6],++sptr;yptr+=12,Xptr+=6}var wptr=yptr=0;for(i=0;i<6;++i)z[i+0]=0,z[i+6]=y[yptr+0+0]*tables.WINDOW_S[wptr+0],lo=y[yptr+0+6]*tables.WINDOW_S[wptr+6]+y[yptr+12+0]*tables.WINDOW_S[wptr+0],z[i+12]=lo,lo=y[yptr+12+6]*tables.WINDOW_S[wptr+6]+y[yptr+24+0]*tables.WINDOW_S[wptr+0],z[i+18]=lo,z[i+24]=y[yptr+24+6]*tables.WINDOW_S[wptr+6],z[i+30]=0,++yptr,++wptr},Layer3.prototype.overlap=function(output,overlap,sample,sb){for(var i=0;i<18;++i)sample[i][sb]=output[i]+overlap[i],overlap[i]=output[i+18]},Layer3.prototype.freqinver=function(sample,sb){for(var i=1;i<18;i+=2)sample[i][sb]=-sample[i][sb]},Layer3.prototype.overlap_z=function(overlap,sample,sb){for(var i=0;i<18;++i)sample[i][sb]=overlap[i],overlap[i]=0},Layer3.prototype.reorder=function(xr,channel,sfbwidth){var sfbwidthPointer=0,tmp=this.tmp,sbw=new Uint32Array(3),sw=new Uint32Array(3),sb=0;if(channel.flags&tables.MIXED_BLOCK_FLAG){sb=2;for(var l=0;l<36;)l+=sfbwidth[sfbwidthPointer++]}for(var w=0;w<3;++w)sbw[w]=sb,sw[w]=0;f=sfbwidth[sfbwidthPointer++],w=0;for(l=18*sb;l<576;++l)0==f--&&(f=sfbwidth[sfbwidthPointer++]-1,w=(w+1)%3),tmp[sbw[w]][w][sw[w]++]=xr[l],6===sw[w]&&(sw[w]=0,++sbw[w]);for(var tmp2=this.tmp2,ptr=0,i=0;i<32;i++)for(var j=0;j<3;j++)for(var k=0;k<6;k++)tmp2[ptr++]=tmp[i][j][k];var len=576-18*sb;for(i=0;i<len;i++)xr[18*sb+i]=tmp2[sb+i]},module.exports=Layer3}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./frame":4,"./header":5,"./huffman":6,"./imdct":8,"./tables":14,"./utils":15}],12:[function(require,module,exports){(function(global){"undefined"!=typeof window?window.AV:void 0!==global&&global.AV;var MP3FrameHeader=require("./header");function MP3Stream(stream){for(var key in this.stream=stream,this.sync=!1,this.freerate=0,this.this_frame=stream.stream.offset,this.next_frame=stream.stream.offset,this.main_data=new Uint8Array(MP3FrameHeader.BUFFER_MDLEN),this.md_len=0,stream)"function"==typeof stream[key]&&(this[key]=stream[key].bind(stream))}MP3Stream.prototype.getU8=function(offset){var stream=this.stream.stream;return stream.peekUInt8(offset-stream.offset)},MP3Stream.prototype.nextByte=function(){var stream=this.stream;return 0===stream.bitPosition?stream.stream.offset:stream.stream.offset+1},MP3Stream.prototype.doSync=function(){var stream=this.stream.stream;for(this.align();this.available(16)&&(255!==stream.peekUInt8(0)||224!=(224&stream.peekUInt8(1)));)this.advance(8);return!!this.available(MP3FrameHeader.BUFFER_GUARD)},MP3Stream.prototype.reset=function(byteOffset){this.seek(8*byteOffset),this.next_frame=byteOffset,this.sync=!0},module.exports=MP3Stream}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./header":5}],13:[function(require,module,exports){var utils=require("./utils");function MP3Synth(){this.filter=utils.makeArray([2,2,2,16,8]),this.phase=0,this.pcm={samplerate:0,channels:0,length:0,samples:[new Float64Array(1152),new Float64Array(1152)]}}var costab8=.923879533,costab16=.707106781;MP3Synth.dct32=function(_in,slot,lo,hi){var t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,t10,t11,t12,t13,t14,t15,t16,t17,t18,t19,t20,t21,t22,t23,t24,t25,t26,t27,t28,t29,t30,t31,t32,t33,t34,t35,t36,t37,t38,t39,t40,t41,t42,t43,t44,t45,t46,t47,t48,t49,t50,t51,t52,t53,t54,t55,t56,t57,t58,t59,t60,t61,t62,t63,t64,t65,t66,t67,t68,t69,t70,t71,t72,t73,t74,t75,t76,t77,t78,t79,t80,t81,t82,t83,t84,t85,t86,t87,t88,t89,t90,t91,t92,t93,t94,t95,t96,t97,t98,t99,t100,t101,t102,t103,t104,t105,t106,t107,t108,t109,t110,t111,t112,t113,t114,t115,t116,t117,t118,t119,t120,t121,t122,t123,t124,t125,t126,t127,t128,t129,t130,t131,t132,t133,t134,t135,t136,t137,t138,t139,t140,t141,t142,t143,t144,t145,t146,t147,t148,t149,t150,t151,t152,t153,t154,t155,t156,t157,t158,t159,t160,t161,t162,t163,t164,t165,t166,t167,t168,t169,t170,t171,t172,t173,t174,t175,t176;t0=_in[0]+_in[31],t16=.998795456*(_in[0]-_in[31]),t1=_in[15]+_in[16],t41=t16+(t17=.049067674*(_in[15]-_in[16])),t59=.995184727*(t16-t17),t33=t0+t1,t50=.995184727*(t0-t1),t2=_in[7]+_in[24],t18=.740951125*(_in[7]-_in[24]),t3=_in[8]+_in[23],t42=t18+(t19=.671558955*(_in[8]-_in[23])),t60=.09801714*(t18-t19),t34=t2+t3,t51=.09801714*(t2-t3),t4=_in[3]+_in[28],t20=.941544065*(_in[3]-_in[28]),t5=_in[12]+_in[19],t43=t20+(t21=.336889853*(_in[12]-_in[19])),t61=.773010453*(t20-t21),t35=t4+t5,t52=.773010453*(t4-t5),t6=_in[4]+_in[27],t22=.903989293*(_in[4]-_in[27]),t7=_in[11]+_in[20],t44=t22+(t23=.427555093*(_in[11]-_in[20])),t62=.634393284*(t22-t23),t36=t6+t7,t53=.634393284*(t6-t7),t8=_in[1]+_in[30],t24=.98917651*(_in[1]-_in[30]),t9=_in[14]+_in[17],t45=t24+(t25=.146730474*(_in[14]-_in[17])),t63=.956940336*(t24-t25),t37=t8+t9,t54=.956940336*(t8-t9),t10=_in[6]+_in[25],t26=.803207531*(_in[6]-_in[25]),t11=_in[9]+_in[22],t46=t26+(t27=.595699304*(_in[9]-_in[22])),t64=.290284677*(t26-t27),t38=t10+t11,t55=.290284677*(t10-t11),t12=_in[2]+_in[29],t28=.970031253*(_in[2]-_in[29]),t13=_in[13]+_in[18],t47=t28+(t29=.24298018*(_in[13]-_in[18])),t65=.881921264*(t28-t29),t39=t12+t13,t56=.881921264*(t12-t13),t14=_in[5]+_in[26],t30=.85772861*(_in[5]-_in[26]),t89=.98078528*(t33-t34),t90=.195090322*(t35-t36),t91=.831469612*(t37-t38),t92=.555570233*(t39-(t40=t14+(t15=_in[10]+_in[21]))),t73=t41+t42,t94=.98078528*(t41-t42),t74=t43+t44,t95=.195090322*(t43-t44),t75=t45+t46,t96=.831469612*(t45-t46),t76=t47+(t48=t30+(t31=.514102744*(_in[10]-_in[21]))),t97=.555570233*(t47-t48),t78=t50+t51,t100=.98078528*(t50-t51),t79=t52+t53,t101=.195090322*(t52-t53),t80=t54+t55,t102=.831469612*(t54-t55),t81=t56+(t57=.471396737*(t14-t15)),t103=.555570233*(t56-t57),t83=t59+t60,t106=.98078528*(t59-t60),t84=t61+t62,t107=.195090322*(t61-t62),t85=t63+t64,t108=.831469612*(t63-t64),t86=t65+(t66=.471396737*(t30-t31)),t109=.555570233*(t65-t66),t113=(t69=t33+t34)+(t70=t35+t36),t114=(t71=t37+t38)+(t72=t39+t40),hi[15][slot]=t113+t114,lo[0][slot]=(t113-t114)*costab16,t32=(t115=t73+t74)+(t116=t75+t76),hi[14][slot]=t32,t58=(t118=t78+t79)+(t119=t80+t81),hi[13][slot]=t58,t49=2*(t67=(t121=t83+t84)+(t122=t85+t86))-t32,hi[12][slot]=t49,t93=(t125=t89+t90)+(t126=t91+t92),hi[11][slot]=t93,t68=2*(t98=(t128=t94+t95)+(t129=t96+t97))-t49,hi[10][slot]=t68,t82=2*(t104=(t132=t100+t101)+(t133=t102+t103))-t58,hi[9][slot]=t82,t77=2*(t87=2*(t110=(t136=t106+t107)+(t137=t108+t109))-t67)-t68,hi[8][slot]=t77,t143=(t141=(t69-t70)*costab8)+(t142=.382683432*(t71-t72)),hi[7][slot]=t143,lo[8][slot]=(t141-t142)*costab16*2-t143,t88=2*(t146=(t144=(t73-t74)*costab8)+(t145=.382683432*(t75-t76)))-t77,hi[6][slot]=t88,t105=2*(t150=(t148=(t78-t79)*costab8)+(t149=.382683432*(t80-t81)))-t82,hi[5][slot]=t105,t99=2*(t111=2*(t154=(t152=(t83-t84)*costab8)+(t153=.382683432*(t85-t86)))-t87)-t88,hi[4][slot]=t99,t127=2*(t159=(t157=(t89-t90)*costab8)+(t158=.382683432*(t91-t92)))-t93,hi[3][slot]=t127,t160=(t125-t126)*costab16*2-t127,lo[4][slot]=t160,lo[12][slot]=2*((t157-t158)*costab16*2-t159)-t160,t112=2*(t130=2*(t163=(t161=(t94-t95)*costab8)+(t162=.382683432*(t96-t97)))-t98)-t99,hi[2][slot]=t112,t164=(t128-t129)*costab16*2-t130,t120=2*(t134=2*(t168=(t166=(t100-t101)*costab8)+(t167=.382683432*(t102-t103)))-t104)-t105,hi[1][slot]=t120,t135=(t118-t119)*costab16*2-t120,lo[2][slot]=t135,t151=2*(t169=(t132-t133)*costab16*2-t134)-t135,lo[6][slot]=t151,t170=2*((t148-t149)*costab16*2-t150)-t151,lo[10][slot]=t170,lo[14][slot]=2*(2*((t166-t167)*costab16*2-t168)-t169)-t170,t139=(t121-t122)*costab16*2-(t123=2*(t138=2*(t173=(t171=(t106-t107)*costab8)+(t172=.382683432*(t108-t109)))-t110)-t111),t117=2*t123-t112,hi[0][slot]=t117,t124=(t115-t116)*costab16*2-t117,t131=2*t139-(lo[1][slot]=t124),t140=2*t164-(lo[3][slot]=t131),lo[5][slot]=t140,t147=2*(t155=2*(t174=(t136-t137)*costab16*2-t138)-t139)-t140,lo[7][slot]=t147,t156=2*((t144-t145)*costab16*2-t146)-t147,lo[9][slot]=t156,t165=2*(t175=2*((t152-t153)*costab16*2-t154)-t155)-t156,lo[11][slot]=t165,t176=2*(2*((t161-t162)*costab16*2-t163)-t164)-t165,lo[13][slot]=t176,lo[15][slot]=2*(2*(2*((t171-t172)*costab16*2-t173)-t174)-t175)-t176};var D=[[0,-442505e-9,.003250122,-.007003784,.031082153,-.07862854,.100311279,-.572036743,1.144989014,.572036743,.100311279,.07862854,.031082153,.007003784,.003250122,442505e-9,0,-442505e-9,.003250122,-.007003784,.031082153,-.07862854,.100311279,-.572036743,1.144989014,.572036743,.100311279,.07862854,.031082153,.007003784,.003250122,442505e-9],[-15259e-9,-473022e-9,.003326416,-.007919312,.030517578,-.084182739,.090927124,-.600219727,1.144287109,.543823242,.108856201,.073059082,.031478882,.006118774,.003173828,396729e-9,-15259e-9,-473022e-9,.003326416,-.007919312,.030517578,-.084182739,.090927124,-.600219727,1.144287109,.543823242,.108856201,.073059082,.031478882,.006118774,.003173828,396729e-9],[-15259e-9,-534058e-9,.003387451,-.008865356,.029785156,-.089706421,.080688477,-.628295898,1.142211914,.515609741,.116577148,.067520142,.031738281,.0052948,.003082275,366211e-9,-15259e-9,-534058e-9,.003387451,-.008865356,.029785156,-.089706421,.080688477,-.628295898,1.142211914,.515609741,.116577148,.067520142,.031738281,.0052948,.003082275,366211e-9],[-15259e-9,-579834e-9,.003433228,-.009841919,.028884888,-.095169067,.069595337,-.656219482,1.138763428,.487472534,.123474121,.06199646,.031845093,.004486084,.002990723,320435e-9,-15259e-9,-579834e-9,.003433228,-.009841919,.028884888,-.095169067,.069595337,-.656219482,1.138763428,.487472534,.123474121,.06199646,.031845093,.004486084,.002990723,320435e-9],[-15259e-9,-62561e-8,.003463745,-.010848999,.027801514,-.100540161,.057617187,-.683914185,1.133926392,.459472656,.129577637,.056533813,.031814575,.003723145,.00289917,289917e-9,-15259e-9,-62561e-8,.003463745,-.010848999,.027801514,-.100540161,.057617187,-.683914185,1.133926392,.459472656,.129577637,.056533813,.031814575,.003723145,.00289917,289917e-9],[-15259e-9,-686646e-9,.003479004,-.011886597,.026535034,-.105819702,.044784546,-.71131897,1.127746582,.431655884,.134887695,.051132202,.031661987,.003005981,.002792358,259399e-9,-15259e-9,-686646e-9,.003479004,-.011886597,.026535034,-.105819702,.044784546,-.71131897,1.127746582,.431655884,.134887695,.051132202,.031661987,.003005981,.002792358,259399e-9],[-15259e-9,-747681e-9,.003479004,-.012939453,.025085449,-.110946655,.031082153,-.738372803,1.120223999,.404083252,.139450073,.045837402,.031387329,.002334595,.002685547,244141e-9,-15259e-9,-747681e-9,.003479004,-.012939453,.025085449,-.110946655,.031082153,-.738372803,1.120223999,.404083252,.139450073,.045837402,.031387329,.002334595,.002685547,244141e-9],[-30518e-9,-808716e-9,.003463745,-.014022827,.023422241,-.115921021,.01651001,-.765029907,1.111373901,.376800537,.143264771,.040634155,.031005859,.001693726,.002578735,213623e-9,-30518e-9,-808716e-9,.003463745,-.014022827,.023422241,-.115921021,.01651001,-.765029907,1.111373901,.376800537,.143264771,.040634155,.031005859,.001693726,.002578735,213623e-9],[-30518e-9,-88501e-8,.003417969,-.01512146,.021575928,-.120697021,.001068115,-.791213989,1.101211548,.349868774,.146362305,.035552979,.030532837,.001098633,.002456665,198364e-9,-30518e-9,-88501e-8,.003417969,-.01512146,.021575928,-.120697021,.001068115,-.791213989,1.101211548,.349868774,.146362305,.035552979,.030532837,.001098633,.002456665,198364e-9],[-30518e-9,-961304e-9,.003372192,-.016235352,.01953125,-.125259399,-.015228271,-.816864014,1.089782715,.323318481,.148773193,.030609131,.029937744,549316e-9,.002349854,167847e-9,-30518e-9,-961304e-9,.003372192,-.016235352,.01953125,-.125259399,-.015228271,-.816864014,1.089782715,.323318481,.148773193,.030609131,.029937744,549316e-9,.002349854,167847e-9],[-30518e-9,-.001037598,.00328064,-.017349243,.01725769,-.129562378,-.03237915,-.841949463,1.07711792,.297210693,.150497437,.025817871,.029281616,30518e-9,.002243042,152588e-9,-30518e-9,-.001037598,.00328064,-.017349243,.01725769,-.129562378,-.03237915,-.841949463,1.07711792,.297210693,.150497437,.025817871,.029281616,30518e-9,.002243042,152588e-9],[-45776e-9,-.001113892,.003173828,-.018463135,.014801025,-.133590698,-.050354004,-.866363525,1.063217163,.271591187,.151596069,.021179199,.028533936,-442505e-9,.002120972,137329e-9,-45776e-9,-.001113892,.003173828,-.018463135,.014801025,-.133590698,-.050354004,-.866363525,1.063217163,.271591187,.151596069,.021179199,.028533936,-442505e-9,.002120972,137329e-9],[-45776e-9,-.001205444,.003051758,-.019577026,.012115479,-.137298584,-.069168091,-.890090942,1.048156738,.246505737,.152069092,.016708374,.02772522,-869751e-9,.00201416,12207e-8,-45776e-9,-.001205444,.003051758,-.019577026,.012115479,-.137298584,-.069168091,-.890090942,1.048156738,.246505737,.152069092,.016708374,.02772522,-869751e-9,.00201416,12207e-8],[-61035e-9,-.001296997,.002883911,-.020690918,.009231567,-.140670776,-.088775635,-.91305542,1.031936646,.221984863,.15196228,.012420654,.02684021,-.001266479,.001907349,106812e-9,-61035e-9,-.001296997,.002883911,-.020690918,.009231567,-.140670776,-.088775635,-.91305542,1.031936646,.221984863,.15196228,.012420654,.02684021,-.001266479,.001907349,106812e-9],[-61035e-9,-.00138855,.002700806,-.021789551,.006134033,-.143676758,-.109161377,-.935195923,1.01461792,.198059082,.151306152,.00831604,.025909424,-.001617432,.001785278,106812e-9,-61035e-9,-.00138855,.002700806,-.021789551,.006134033,-.143676758,-.109161377,-.935195923,1.01461792,.198059082,.151306152,.00831604,.025909424,-.001617432,.001785278,106812e-9],[-76294e-9,-.001480103,.002487183,-.022857666,.002822876,-.146255493,-.130310059,-.956481934,.996246338,.174789429,.150115967,.004394531,.024932861,-.001937866,.001693726,91553e-9,-76294e-9,-.001480103,.002487183,-.022857666,.002822876,-.146255493,-.130310059,-.956481934,.996246338,.174789429,.150115967,.004394531,.024932861,-.001937866,.001693726,91553e-9],[-76294e-9,-.001586914,.002227783,-.023910522,-686646e-9,-.148422241,-.152206421,-.976852417,.976852417,.152206421,.148422241,686646e-9,.023910522,-.002227783,.001586914,76294e-9,-76294e-9,-.001586914,.002227783,-.023910522,-686646e-9,-.148422241,-.152206421,-.976852417,.976852417,.152206421,.148422241,686646e-9,.023910522,-.002227783,.001586914,76294e-9]];MP3Synth.prototype.full=function(frame,nch,ns){for(var Dptr,lo,ptr,ch=0;ch<nch;++ch)for(var sbsample=frame.sbsample[ch],filter=this.filter[ch],phase=this.phase,pcm=this.pcm.samples[ch],pcm1Ptr=0,pcm2Ptr=0,s=0;s<ns;++s){MP3Synth.dct32(sbsample[s],phase>>1,filter[0][1&phase],filter[1][1&phase]);var pe=-2&phase,po=phase-1&15|1,fe=filter[0][1&phase],fx=filter[0][1&~phase],fo=filter[1][1&~phase],fePtr=0,foPtr=0;ptr=D[Dptr=0],_fx=fx[0],_fe=fe[fePtr],lo=_fx[0]*ptr[0+po],lo+=_fx[1]*ptr[14+po],lo+=_fx[2]*ptr[12+po],lo+=_fx[3]*ptr[10+po],lo+=_fx[4]*ptr[8+po],lo+=_fx[5]*ptr[6+po],lo+=_fx[6]*ptr[4+po],lo=-(lo+=_fx[7]*ptr[2+po]),lo+=_fe[0]*ptr[0+pe],lo+=_fe[1]*ptr[14+pe],lo+=_fe[2]*ptr[12+pe],lo+=_fe[3]*ptr[10+pe],lo+=_fe[4]*ptr[8+pe],lo+=_fe[5]*ptr[6+pe],lo+=_fe[6]*ptr[4+pe],lo+=_fe[7]*ptr[2+pe],pcm[pcm1Ptr++]=lo,pcm2Ptr=pcm1Ptr+30;for(var sb=1;sb<16;++sb)++fePtr,ptr=D[++Dptr],_fo=fo[foPtr],_fe=fe[fePtr],lo=_fo[0]*ptr[0+po],lo+=_fo[1]*ptr[14+po],lo+=_fo[2]*ptr[12+po],lo+=_fo[3]*ptr[10+po],lo+=_fo[4]*ptr[8+po],lo+=_fo[5]*ptr[6+po],lo+=_fo[6]*ptr[4+po],lo=-(lo+=_fo[7]*ptr[2+po]),lo+=_fe[7]*ptr[2+pe],lo+=_fe[6]*ptr[4+pe],lo+=_fe[5]*ptr[6+pe],lo+=_fe[4]*ptr[8+pe],lo+=_fe[3]*ptr[10+pe],lo+=_fe[2]*ptr[12+pe],lo+=_fe[1]*ptr[14+pe],lo+=_fe[0]*ptr[0+pe],pcm[pcm1Ptr++]=lo,lo=_fe[0]*ptr[31-pe-16],lo+=_fe[1]*ptr[31-pe-14],lo+=_fe[2]*ptr[31-pe-12],lo+=_fe[3]*ptr[31-pe-10],lo+=_fe[4]*ptr[31-pe-8],lo+=_fe[5]*ptr[31-pe-6],lo+=_fe[6]*ptr[31-pe-4],lo+=_fe[7]*ptr[31-pe-2],lo+=_fo[7]*ptr[31-po-2],lo+=_fo[6]*ptr[31-po-4],lo+=_fo[5]*ptr[31-po-6],lo+=_fo[4]*ptr[31-po-8],lo+=_fo[3]*ptr[31-po-10],lo+=_fo[2]*ptr[31-po-12],lo+=_fo[1]*ptr[31-po-14],lo+=_fo[0]*ptr[31-po-16],pcm[pcm2Ptr--]=lo,++foPtr;ptr=D[++Dptr],_fo=fo[foPtr],lo=_fo[0]*ptr[0+po],lo+=_fo[1]*ptr[14+po],lo+=_fo[2]*ptr[12+po],lo+=_fo[3]*ptr[10+po],lo+=_fo[4]*ptr[8+po],lo+=_fo[5]*ptr[6+po],lo+=_fo[6]*ptr[4+po],lo+=_fo[7]*ptr[2+po],pcm[pcm1Ptr]=-lo,pcm1Ptr+=16,phase=(phase+1)%16}},MP3Synth.prototype.frame=function(frame){var nch=frame.header.nchannels(),ns=frame.header.nbsamples();this.pcm.samplerate=frame.header.samplerate,this.pcm.channels=nch,this.pcm.length=32*ns,this.full(frame,nch,ns),this.phase=(this.phase+ns)%16},module.exports=MP3Synth},{"./utils":15}],14:[function(require,module,exports){exports.SF_TABLE=new Float32Array([2,1.587401051968,1.259921049895,1,.793700525984,.629960524947,.5,.396850262992,.314980262474,.25,.198425131496,.157490131237,.125,.099212565748,.078745065618,.0625,.049606282874,.039372532809,.03125,.024803141437,.019686266405,.015625,.012401570719,.009843133202,.0078125,.006200785359,.004921566601,.00390625,.00310039268,.002460783301,.001953125,.00155019634,.00123039165,.0009765625,.00077509817,.000615195825,.00048828125,.000387549085,.000307597913,.000244140625,.000193774542,.000153798956,.000122070313,96887271e-12,76899478e-12,61035156e-12,48443636e-12,38449739e-12,30517578e-12,24221818e-12,1922487e-11,15258789e-12,12110909e-12,9612435e-12,7629395e-12,6055454e-12,4806217e-12,3814697e-12,3027727e-12,2403109e-12,1907349e-12,1513864e-12,1201554e-12,0]);var SFB_48000_LONG=new Uint8Array([4,4,4,4,4,4,6,6,6,8,10,12,16,18,22,28,34,40,46,54,54,192]),SFB_44100_LONG=new Uint8Array([4,4,4,4,4,4,6,6,8,8,10,12,16,20,24,28,34,42,50,54,76,158]),SFB_32000_LONG=new Uint8Array([4,4,4,4,4,4,6,6,8,10,12,16,20,24,30,38,46,56,68,84,102,26]),SFB_48000_SHORT=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,10,10,10,12,12,12,14,14,14,16,16,16,20,20,20,26,26,26,66,66,66]),SFB_44100_SHORT=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,22,22,22,30,30,30,56,56,56]),SFB_32000_SHORT=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,12,12,12,16,16,16,20,20,20,26,26,26,34,34,34,42,42,42,12,12,12]),SFB_48000_MIXED=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,6,6,6,10,10,10,12,12,12,14,14,14,16,16,16,20,20,20,26,26,26,66,66,66]),SFB_44100_MIXED=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,22,22,22,30,30,30,56,56,56]),SFB_32000_MIXED=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,8,8,8,12,12,12,16,16,16,20,20,20,26,26,26,34,34,34,42,42,42,12,12,12]),SFB_24000_LONG=new Uint8Array([6,6,6,6,6,6,8,10,12,14,16,18,22,26,32,38,46,54,62,70,76,36]),SFB_22050_LONG=new Uint8Array([6,6,6,6,6,6,8,10,12,14,16,20,24,28,32,38,46,52,60,68,58,54]),SFB_16000_LONG=SFB_22050_LONG,SFB_24000_SHORT=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,32,32,32,44,44,44,12,12,12]),SFB_22050_SHORT=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,8,8,8,10,10,10,14,14,14,18,18,18,26,26,26,32,32,32,42,42,42,18,18,18]),SFB_16000_SHORT=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,30,30,30,40,40,40,18,18,18]),SFB_24000_MIXED=new Uint8Array([6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,32,32,32,44,44,44,12,12,12]),SFB_22050_MIXED=new Uint8Array([6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,14,14,14,18,18,18,26,26,26,32,32,32,42,42,42,18,18,18]),SFB_16000_MIXED=new Uint8Array([6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,30,30,30,40,40,40,18,18,18]),SFB_12000_LONG=SFB_16000_LONG,SFB_11025_LONG=SFB_12000_LONG,SFB_8000_LONG=new Uint8Array([12,12,12,12,12,12,16,20,24,28,32,40,48,56,64,76,90,2,2,2,2,2]),SFB_12000_SHORT=SFB_16000_SHORT,SFB_11025_SHORT=SFB_12000_SHORT,SFB_8000_SHORT=new Uint8Array([8,8,8,8,8,8,8,8,8,12,12,12,16,16,16,20,20,20,24,24,24,28,28,28,36,36,36,2,2,2,2,2,2,2,2,2,26,26,26]),SFB_12000_MIXED=SFB_16000_MIXED,SFB_11025_MIXED=SFB_12000_MIXED,SFB_8000_MIXED=new Uint8Array([12,12,12,4,4,4,8,8,8,12,12,12,16,16,16,20,20,20,24,24,24,28,28,28,36,36,36,2,2,2,2,2,2,2,2,2,26,26,26]);exports.SFBWIDTH_TABLE=[{l:SFB_48000_LONG,s:SFB_48000_SHORT,m:SFB_48000_MIXED},{l:SFB_44100_LONG,s:SFB_44100_SHORT,m:SFB_44100_MIXED},{l:SFB_32000_LONG,s:SFB_32000_SHORT,m:SFB_32000_MIXED},{l:SFB_24000_LONG,s:SFB_24000_SHORT,m:SFB_24000_MIXED},{l:SFB_22050_LONG,s:SFB_22050_SHORT,m:SFB_22050_MIXED},{l:SFB_16000_LONG,s:SFB_16000_SHORT,m:SFB_16000_MIXED},{l:SFB_12000_LONG,s:SFB_12000_SHORT,m:SFB_12000_MIXED},{l:SFB_11025_LONG,s:SFB_11025_SHORT,m:SFB_11025_MIXED},{l:SFB_8000_LONG,s:SFB_8000_SHORT,m:SFB_8000_MIXED}],exports.PRETAB=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0]),exports.ROOT_TABLE=new Float32Array([.59460355750136,.70710678118655,.84089641525371,1,1.18920711500272,1.4142135623731,1.68179283050743]),exports.CS=new Float32Array([.857492926,.881741997,.949628649,.983314592,.995517816,.999160558,.999899195,.999993155]),exports.CA=new Float32Array([-.514495755,-.471731969,-.313377454,-.1819132,-.094574193,-.040965583,-.014198569,-.003699975]),exports.COUNT1TABLE_SELECT=1,exports.SCALEFAC_SCALE=2,exports.PREFLAG=4,exports.MIXED_BLOCK_FLAG=8,exports.I_STEREO=1,exports.MS_STEREO=2,exports.WINDOW_L=new Float32Array([.043619387,.130526192,.216439614,.3007058,.382683432,.461748613,.537299608,.608761429,.675590208,.737277337,.79335334,.843391446,.887010833,.923879533,.953716951,.976296007,.991444861,.999048222,.999048222,.991444861,.976296007,.953716951,.923879533,.887010833,.843391446,.79335334,.737277337,.675590208,.608761429,.537299608,.461748613,.382683432,.3007058,.216439614,.130526192,.043619387]),exports.WINDOW_S=new Float32Array([.130526192,.382683432,.608761429,.79335334,.923879533,.991444861,.991444861,.923879533,.79335334,.608761429,.382683432,.130526192]),exports.IS_TABLE=new Float32Array([0,.211324865,.366025404,.5,.633974596,.788675135,1]),exports.IS_LSF_TABLE=[new Float32Array([.840896415,.707106781,.594603558,.5,.420448208,.353553391,.297301779,.25,.210224104,.176776695,.148650889,.125,.105112052,.088388348,.074325445]),new Float32Array([.707106781,.5,.353553391,.25,.176776695,.125,.088388348,.0625,.044194174,.03125,.022097087,.015625,.011048543,.0078125,.005524272])],exports.SFLEN_TABLE=[{slen1:0,slen2:0},{slen1:0,slen2:1},{slen1:0,slen2:2},{slen1:0,slen2:3},{slen1:3,slen2:0},{slen1:1,slen2:1},{slen1:1,slen2:2},{slen1:1,slen2:3},{slen1:2,slen2:1},{slen1:2,slen2:2},{slen1:2,slen2:3},{slen1:3,slen2:1},{slen1:3,slen2:2},{slen1:3,slen2:3},{slen1:4,slen2:2},{slen1:4,slen2:3}],exports.NSFB_TABLE=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]]},{}],15:[function(require,module,exports){exports.makeArray=function(lengths,Type){if(Type=Type||Float64Array,1===lengths.length)return new Type(lengths[0]);for(var ret=[],len=lengths[0],j=0;j<len;j++)ret[j]=exports.makeArray(lengths.slice(1),Type);return ret}},{}]},{},[1]);